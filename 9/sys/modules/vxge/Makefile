# $FreeBSD$

.PATH: ${.CURDIR}/../../dev/vxge
VPATH =	${.CURDIR}/../../dev/vxge/vxgehal

CFLAGS_VXGE = 

# Debugging/Tracing:
#VXGE_COMPONENT_HAL_DEVICE		0x00000001
#VXGE_COMPONENT_HAL_DEVICE_IRQ		0x00000002
#VXGE_COMPONENT_HAL_VPATH		0x00000004
#VXGE_COMPONENT_HAL_VPATH_IRQ		0x00000008
#VXGE_COMPONENT_HAL_CONFIG		0x00000010
#VXGE_COMPONENT_HAL_MM			0x00000020
#VXGE_COMPONENT_HAL_POOL		0x00000040
#VXGE_COMPONENT_HAL_QUEUE		0x00000080
#VXGE_COMPONENT_HAL_CHANNEL		0x00000200
#VXGE_COMPONENT_HAL_FIFO		0x00000400
#VXGE_COMPONENT_HAL_RING		0x00000800
#VXGE_COMPONENT_HAL_LRO			0x00100000
#VXGE_COMPONENT_HAL_STATS		0x00800000
#VXGE_COMPONENT_HAL_MRPCIM		0x01000000
#VXGE_COMPONENT_HAL_MRPCIM_IRQ		0x02000000
#VXGE_COMPONENT_HAL_SRPCIM		0x04000000
#VXGE_COMPONENT_HAL_SRPCIM_IRQ		0x08000000
#VXGE_COMPONENT_HAL_DRIVER		0x10000000
#VXGE_COMPONENT_OSDEP			0x20000000
#VXGE_COMPONENT_LL			0x40000000
#VXGE_COMPONENT_ULD			0x80000000
#VXGE_COMPONENT_ALL			0xffffffff

#CFLAGS_VXGE += -DVXGE_DEBUG_MODULE_MASK=VXGE_COMPONENT_ALL
#CFLAGS_VXGE += -DVXGE_DEBUG_ERR_MASK=VXGE_COMPONENT_ALL
#CFLAGS_VXGE += -DVXGE_DEBUG_TRACE_MASK=VXGE_COMPONENT_ALL
#CFLAGS_VXGE += -DVXGE_OS_MEMORY_CHECK

CFLAGS_VXGE += -DVXGE_HAL_RX_MULTI_POST
CFLAGS_VXGE += -DVXGE_HAL_TX_MULTI_POST

CFLAGS += $(CFLAGS_VXGE)

KMOD =	vxge
SRCS =	vxge.c
SRCS +=	vxgehal-driver.c
SRCS +=	vxgehal-swapper.c
SRCS +=	vxgehal-config.c
SRCS +=	vxgehal-device.c
SRCS +=	vxge-queue.c
SRCS +=	vxgehal-mm.c
SRCS +=	vxgehal-blockpool.c
SRCS +=	vxgehal-channel.c
SRCS +=	vxgehal-fifo.c
SRCS +=	vxgehal-ring.c
SRCS +=	vxgehal-virtualpath.c
SRCS +=	vxgehal-doorbells.c
SRCS +=	vxgehal-mgmt.c
SRCS +=	vxgehal-mgmtaux.c
SRCS +=	vxgehal-mrpcim.c
SRCS +=	vxgehal-srpcim.c
SRCS +=	vxgehal-ifmsg.c

SRCS+=	bus_if.h device_if.h pci_if.h

.include <bsd.kmod.mk>
