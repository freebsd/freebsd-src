#!/bin/sh -
#
#	$Id: netstart,v 1.13 1994/09/15 01:19:43 phk Exp $
#	From: @(#)netstart	5.9 (Berkeley) 3/30/91

defaultrouter=NO
routedflags=-q
timedflags=NO
xntpdflags="NO"
ntpdate="NO"
rwhod=NO
sendmail_flags="-bd -q30m"
#kerberos_server=YES
#nfs_server=YES
#name_server=YES
#gated=YES

# my-name is my symbolic name
# my-netmask is specified in /etc/networks
#
hostname=`cat /etc/myname`
hostname $hostname

for i in /etc/hostname.*
do
	ifn=`expr $i : '/etc/hostname\.\(.*\)'`
	if [ -e /etc/hostname.$ifn ]; then
		if [ -e /etc/start_if.$ifn ]; then
			sh /etc/start_if.$ifn $ifn
		fi
		ifconfig $ifn `cat /etc/hostname.$ifn`
		ifconfig $ifn
	fi
done

# set the address for the loopback interface
ifconfig lo0 inet localhost

if [ -n "$defaultrouter" -a "x$defaultrouter" != "xNO" ] ; then
	route add default $defaultrouter
elif [ -f /etc/defaultrouter ] ; then
	route add default `cat /etc/defaultrouter`
fi

# use loopback, not the wire
# route add $hostname localhost
