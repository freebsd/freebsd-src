#-
# SPDX-License-Identifier: BSD-2-Clause
#
# Copyright 2023 Beckhoff Automation GmbH & Co. KG
#
# Redistribution and use in source and binary forms, with or without
# modification, are permitted providing that the following conditions 
# are met:
# 1. Redistributions of source code must retain the above copyright
#    notice, this list of conditions and the following disclaimer.
# 2. Redistributions in binary form must reproduce the above copyright
#    notice, this list of conditions and the following disclaimer in the
#    documentation and/or other materials provided with the distribution.
#
# THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
# IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
# WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
# ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY
# DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
# DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
# OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
# HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
# STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
# IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
# POSSIBILITY OF SUCH DAMAGE.

pci_video_intel()
{
	case "$1" in
		# Skylake
		0x1912|0x1916|0x191b|0x191d|0x191e|0x192?|0x193?)
			addpkg "gpu-firmware-intel-kmod-skylake"
			;;
		# Broxton
		0x0a06|0x0a16|0x0a2?|0x5a84|0x5a85)
			addpkg "gpu-firmware-intel-kmod-broxton"
			;;
		# Gemini Lake
		0x3184|0x3185)
			addpkg "gpu-firmware-intel-kmod-geminilake"
			;;
		# Kaby Lake, Coffee Lake and Comet Lake
		0x3e9?|0x3ea?|0x5902|0x5906|0x590b|0x5912|0x5916|0x5917|0x591b|0x591c|0x591d|0x591e|0x87c?|0x9b21|0x9b41|0x9ba?|0x9bc?|0x9be?|0x9bf?)
			addpkg "gpu-firmware-intel-kmod-kabylake"
			;;
		# Cannon Lake
		0x5a84|0x5a85)
			addpkg "gpu-firmware-intel-kmod-cannonlake"
			;;
		# Ice Lake
		0x8a5?)
			addpkg "gpu-firmware-intel-kmod-icelake"
			;;
		# Elkhart Lake/Jasper Lake
		0x4555|0x4571|0x4e55|0x4e61|0x4e71)
			addpkg "gpu-firmware-intel-kmod-elkhartlake"
			;;
		# Tiger Lake
		0x9a4?|0x9a6?|0x9a7?)
			addpkg "gpu-firmware-intel-kmod-tigerlake"
			;;
		# Rocket Lake (Uses Tiger Lake GuC/HuC firmware)
		0x4c8?|0x4c9?)
			addpkg "gpu-firmware-intel-kmod-rocketlake gpu-firmware-intel-kmod-tigerlake"
			;;
		# DG1 (Iris Xe)
		0x490?)
			addpkg "gpu-firmware-intel-kmod-dg1"
			;;
		# Alder Lake (Uses Tiger Lake GuC/HuC firmware)
		0x4626|0x4628|0x462a|0x4636|0x4638|0x463a|0x468?|0x469?|0x46a?|0x46b?|0x46c?|0x46d?)
			addpkg "gpu-firmware-intel-kmod-alderlake gpu-firmware-intel-kmod-tigerlake"
			;;
		# DG2 (Arc Alchemist)
		0x4f8?|0x569?|0x56a?|0x56b)
			addpkg "gpu-firmware-intel-kmod-dg2"
			;;
		*)
			log_verbose "No package found for device $1"
			;;
	esac
}
