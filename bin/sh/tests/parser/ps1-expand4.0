# Test special parameter $? (exit status) in PS1
output=$(PS1='status:$?:' ENV=/dev/null ${SH} +m -i </dev/null 2>&1)
# Should start with exit status 0
case $output in
*status:\$?:*) echo "Exit status not expanded, got literal \$?"; exit 1 ;;
*status:0:*) exit 0 ;;
*) echo "Expected 'status:0:' in initial prompt"; exit 1 ;;
esac
