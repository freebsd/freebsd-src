<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE article PUBLIC "-//FreeBSD//DTD DocBook XML V5.0-Based Extension//EN"
	"../../../share/xml/freebsd50.dtd" [
<!ENTITY % release PUBLIC "-//FreeBSD//ENTITIES Release Specification//EN" "release.ent">
 %release;
<!ENTITY % sponsor PUBLIC "-//FreeBSD//ENTITIES Sponsor Specification//EN" "sponsor.ent">
 %sponsor;
<!ENTITY % vendor PUBLIC "-//FreeBSD//ENTITIES Vendor Specification//EN" "vendor.ent">
 %vendor;
]>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0">
<info>
  <title>&os; &release.current; Release Notes</title>

  <author>
    <orgname>The &os; Project</orgname>
  </author>

  <pubdate>$FreeBSD$</pubdate>

  <copyright>
    <year>2000</year>
    <year>2001</year>
    <year>2002</year>
    <year>2003</year>
    <year>2004</year>
    <year>2005</year>
    <year>2006</year>
    <year>2007</year>
    <year>2008</year>
    <year>2009</year>
    <year>2010</year>
    <year>2011</year>
    <year>2012</year>
    <year>2013</year>
    <year>2014</year>
    <holder role="mailto:doc@FreeBSD.org">The &os; Documentation Project</holder>
  </copyright>

  <legalnotice xml:id="trademarks" role="trademarks">
    &tm-attrib.freebsd;
    &tm-attrib.ibm;
    &tm-attrib.ieee;
    &tm-attrib.intel;
    &tm-attrib.sparc;
    &tm-attrib.general;
  </legalnotice>

  <abstract>
    <para>The release notes for &os; &release.current; contain
      a summary of the changes made to the &os; base system on the
      &release.branch; development line.  This document lists
      applicable security advisories that were issued since the last
      release, as well as significant changes to the &os; kernel and
      userland.  Some brief remarks on upgrading are also
      presented.</para>
  </abstract>
</info>

<sect1 xml:id="intro">
  <title>Introduction</title>

  <para>This document contains the release notes for &os;
    &release.current;.  It describes recently added, changed, or
    deleted features of &os;.  It also provides some notes on
    upgrading from previous versions of &os;.</para>

  <para releasetype="current">The &release.type; distribution to which
    these release notes apply represents the latest point along the
    &release.branch; development branch since &release.branch; was
    created.  Information regarding pre-built, binary &release.type;
    distributions along this branch can be found at <uri
      xlink:href="&release.url;">&release.url;</uri>.</para>

  <para releasetype="snapshot">The &release.type; distribution to
    which these release notes apply represents a point along the
    &release.branch; development branch between &release.prev; and the
    future &release.next;.  Information regarding pre-built, binary
    &release.type; distributions along this branch can be found at
    <uri xlink:href="&release.url;">&release.url;</uri>.</para>

  <para releasetype="release">This distribution of &os;
    &release.current; is a &release.type; distribution.  It can be
    found at <uri xlink:href="&release.url;">&release.url;</uri> or
    any of its mirrors.  More information on obtaining this (or other)
    &release.type; distributions of &os; can be found in the <link
      xlink:href="&url.books.handbook;/mirrors.html"><quote>Obtaining
	&os;</quote> appendix</link> to the <link
      xlink:href="&url.books.handbook;/">&os; Handbook</link>.</para>

  <para>All users are encouraged to consult the release errata before
    installing &os;.  The errata document is updated with
    <quote>late-breaking</quote> information discovered late in the
    release cycle or after the release.  Typically, it contains
    information on known bugs, security advisories, and corrections to
    documentation.  An up-to-date copy of the errata for &os;
    &release.current; can be found on the &os; Web site.</para>
</sect1>

<sect1 xml:id="new">
  <title>What's New</title>

  <para>This section describes the most user-visible new or changed
    features in &os; since &release.prev;.</para>

  <para>Typical release note items document recent security advisories
    issued after &release.prev;, new drivers or hardware support, new
    commands or options, major bug fixes, or contributed software
    upgrades.  They may also list changes to major ports/packages or
    release engineering practices.  Clearly the release notes cannot
    list every single change made to &os; between releases; this
    document focuses primarily on security advisories, user-visible
    changes, and major architectural improvements.</para>

  <sect2 xml:id="security">
    <title>Security Advisories</title>

    <para>&nbsp;</para>

  </sect2>

  <sect2 xml:id="kernel">
    <title>Kernel Changes</title>

    <para revision="260338">The <literal>vfs.zfs.zio.use_uma</literal>
      &man.sysctl.8; has been re-enabled.  On multi-CPU machines with
      enough RAM, this can easily double &man.zfs.8; performance or
      reduce CPU usage in half.  It was originally disabled due to
      memory and <acronym>KVA</acronym> exhaustion problem reports,
      which should be resolved due to several change in the VM
      subsystem.</para>

    <para revision="260385" contrib="sponsor" sponsor="&ix;">The
      &man.geom.4; RAID driver has been
      updated to support unmapped I/O.</para>

    <para revision="260431">A new &man.sysctl.8;,
      <literal>kern.panic_reboot_wait_time</literal>, has been added,
      which allows controlling how long the system will wait after
      &man.panic.9; before rebooting.</para>

    <para revision="260857">The &man.virtio_blk.4; driver has been
      updated to support unmapped I/O.</para>

    <para revision="260858">The &man.virtio_scsi.4; driver has been
      updated to support unmapped I/O.</para>

    <para revision="262861">The &man.vt.4; driver has been merged
      from &os;-CURRENT.  To enable &man.vt.4;, enter
      <literal>set kern.vty=vt</literal> at the &man.loader.8; prompt
      during boot, or add <literal>kern.vty=vt</literal> to
      &man.loader.conf.5; and reboot the system.</para>

    <para revision="262967">Support for MegaRAID Fury cards has been
      added to the &man.mfi.4; driver.</para>

    <para revision="263024">The &man.aacraid.4; driver has been
      updated to version 3.2.5.</para>

    <para revision="263122">Support for &man.hwpmc.4; has been added
      for &powerpc;&nbsp;970 class processors.</para>

    <para revision="263197">Support for ADT7460 and ADT7467 fan
      controllers found in newer PowerBooks&trade; and
      iBooks&trade; has been added to the &man.iicbus.4;
      driver.</para>

    <para revision="263256">A panic triggered by removing
      a &man.urtwn.4; device has been fixed.</para>

    <para revision="263799">A potential deadlock in the &man.usb.4;
      stack triggered by detaching USB devices that create character
      devices has been fixed.</para>

    <para revision="263869">Support for &amd;&nbsp;Family 16h sensor
      devices has been added to &man.amdtemp.4;.</para>

    <para revision="264522">Support for LUN-based CD changers has been
      removed from the &man.cd.4; driver.</para>

    <para revision="265388" contrib="sponsor" sponsor="&lsi;">The
      &man.mpr.4; device has been added,
      providing support for LSI Fusion-MPT 3 12Gb SCSI/SATA
      controllers.</para>

    <para revision="265922" contrib="sponsor" sponsor="&lsi;">The
      &man.mrsas.4; driver has been added,
      providing support for LSI MegaRAID SAS controllers.  The
      &man.mfi.4; driver will attach to the controller, by default.
      To enable &man.mrsas.4; add
      <literal>hw.mfi.mrsas_enable=1</literal> to
      <filename>/boot/loader.conf</filename>, which turns off
      &man.mfi.4; device probing.</para>

    <note>
      <para>At this time, the &man.mfiutil.8; utility and
	the &os; version of
	<application>MegaCLI</application> and
	<application>StorCli</application> do not work with
	&man.mrsas.4;.</para>
    </note>

    <para revision="266165">A kernel bug that inhibited proper
      functionality of the <literal>dev.cpu.0.freq</literal>
      &man.sysctl.8; on &intel; processors with Turbo
      Boost&nbsp;&trade; enabled has been fixed.</para>

    <sect3 xml:id="kernel-virtualization">
      <title>Virtualization support</title>

      <para revision="259450">Support for &microsoft; Hyper-V
	has been added to &os;/i386 as loadable modules, however
	not available in the <filename>GENERIC</filename> kernel
	configuration.</para>

      <para revision="261090">The &man.bhyve.4; hypervisor now
	supports soft power-off functionality via the ACPI S5
	state.</para>
    </sect3>

    <sect3 xml:id="kernel-arm">
      <title>ARM support</title>

      <para revision="259355">The <filename>WANDBOARD</filename>
	kernel configuration file has been added.</para>

    </sect3>

    <sect3 xml:id="boot">
      <title>Boot Loader Changes</title>

      <para revision="262701">A kernel selection menu has been added
	to &man.loader.8;.  If the <quote>beastie menu</quote> is
	enabled, the kernel to boot may be selected from the kernel
	selection menu.  Additional kernels may be listed in
	&man.loader.conf.5; as a comma- or space-separated list.  By
	default, <literal>kernel</literal> and
	<literal>kernel.old</literal> are listed.</para>
    </sect3>

    <sect3 xml:id="proc">
      <title>Hardware Support</title>

      <para>&nbsp;</para>

      <sect4 xml:id="mm">
	<title>Multimedia Support</title>

	<para>&nbsp;</para>

      </sect4>

      <sect4 xml:id="net-if">
	<title>Network Interface Support</title>

	<para revision="259453">Support for Ralink RT5370 and
	  RT5372 chipsets has been added to the &man.run.4;
	  driver.</para>

	<para revision="260120">Firmware for the &man.run.4; driver
	  has been updated to version 0.33.</para>

	<para revision="261868">Support for the Ralink RT3593
	  chipset has been added to the &man.run.4; driver.</para>

	<para revision="261972">The &man.nve.4; driver is now
	  deprecated, and the &man.nfe.4; driver should be used
	  instead.</para>

	<para revision="262137">Support for the &man.axge.4; driver
	  has been added.  This driver supports the ASIX AX88178A and
	  AX88179 USB ethernet adapters.  The AX88178A supports USB
	  2.0, and the AX88179 supports USB 2.0 and 3.0.</para>

	<para revision="262363">The &man.urndis.4; driver has been
	  imported from OpenBSD.</para>
      </sect4>
    </sect3>

    <sect3 xml:id="net-proto">
      <title>Network Protocols</title>

      <para>&nbsp;</para>

    </sect3>

    <sect3 xml:id="disks">
      <title>Disks and Storage</title>

      <para revision="259328" contrib="sponsor"
	sponsor="&ff;">The &man.geom.8; <literal>label</literal> class
	is now aware of resized partitions.  This corrects an issue
	where <command>geom resize</command> would resize the
	partition, but the label provider in <filename
	  class="directory">/dev/gptid/</filename> would not be
	resized.</para>

      <para revision="260502">The &man.gmirror.8;
	utility now has a <literal>resize</literal> command, making
	it easier to resize the size of a mirror when all of its
	components have been replaced.</para>

      <para revision="268091">Support for the
	<literal>disklabel64</literal> partitioning scheme has been
	added to &man.gpart.8;.</para>
    </sect3>

    <sect3 xml:id="fs">
      <title>File Systems</title>

      <para revision="260178" contrib="vendor"
	vendor="&netflix;">A new flag, <literal>-R</literal>,
	has been added to the &man.fsck.ffs.8; utility.  When used,
	&man.fsck.ffs.8; will restart itself when too many critical
	errors have been detected.</para>

      <para revision="263407">The &man.zfs.8; filesystem has been
	updated to implement <quote>bookmarks</quote>.  See
	&man.zfs.8; for further details.</para>
    </sect3>
  </sect2>

  <sect2 xml:id="userland">
    <title>Userland Changes</title>

    <para revision="260177" contrib="sponsor"
      sponsor="&netflix;">A new flag is added to &man.camcontrol.8;,
      <literal>-b</literal>, which outputs the existing buses and
      their parents.</para>

    <para revision="262075">The &man.newsyslog.8; utility has been
      updated to rotate files based on the actual file size instead
      of the blocks on disk.  This matches the behavior documented in
      &man.newsyslog.conf.5;.</para>

    <para revision="262384">The location of the &man.rctl.8;
      configuration file can now be overridden in &man.rc.conf.5;.
      To use a non-default location, set <literal>rctl_rules</literal>
      in &man.rc.conf.5; to the location of the file.</para>

    <para revision="262855">The <application>ATF</application> test
      suite has been updated to version 0.20.</para>

    <para revision="263019">The <literal>libucl</literal> library
      (Unified Configuration Library) has been merged from
      &os;-CURRENT.</para>

    <para revision="263020">The &man.pkg.7; bootstrapping utility has
      been synced with the version in &os;-CURRENT.</para>

    <para revision="263403">The &man.zfs.8; userland utility has been
      updated to include aliases for <command>snapshot</command>,
      which allows use of <command>zfs list -t snap</command> and
      <command>zfs snap</command>.</para>

    <para revision="263405">The &man.zfs.8; userland utility has been
      updated to include a new flag to <command>zfs list</command>,
      <literal>-p</literal>, which when specified, prints the output
      in a parsable format.</para>

    <para revision="263508">The &man.clang.1;/llvm suite has been
      updated to version 3.4.</para>

    <para revision="263783">The Blowfish password format
      implementation updated.  Support for &dollar;2b&dollar; has
      been added, allowing use of passwords greater than 256
      characters long.</para>

    <para revision="264497">The &man.iconv.3; library has been
      updated to match NetBSD, providing several bug fixes.</para>

    <para revision="266279">The &man.ps.1; utility has been
      updated to include the <literal>-J</literal> flag, used to
      filter output by matching &man.jail.8; IDs and names.
      Additionally, argument <literal>0</literal> can be used to
      <literal>-J</literal> to only list processes running on the
      host system.</para>

    <para revision="266280">The &man.top.1; utility has been updated
      to filter by &man.jail.8; ID or name, in followup to the
      &man.ps.1; change in <literal>r265229</literal>.</para>

    <para revision="266890">The &man.pmcstat.8; utility has been
      updated to include a new flag, <literal>-l</literal>, which
      ends event collection after the specified number of
      seconds.</para>

    <para revision="267113">The default &man.newsyslog.conf.5; now
      includes files in the
      <filename>/etc/newsyslog.conf.d/</filename> and
      <filename>/usr/local/etc/newsyslog.conf.d/</filename>
      directories by default for &man.newsyslog.8;.</para>

    <para revision="267236">A new flag, <quote>onifconsole</quote> has
      been added to <filename>/etc/ttys</filename>.  This allows the
      system to provide a login prompt via serial console if the
      device is an active kernel console, otherwise it is equivalent
      to <literal>off</literal>.</para>

    <para revision="268161">The &man.mkimg.1; utility has been merged
      from &os;-CURRENT.</para>

    <sect3 xml:id="rc-scripts">
      <title><filename>/etc/rc.d</filename> Scripts</title>

      <para revision="264438">The <filename>network.subr</filename>
	&man.rc.8; script has been updated to loosen the requirement
	of listing network aliases in numeric order.  Previously,
	a network alias of
	<literal>_alias<replaceable>2</replaceable></literal>
	would not be created if
	<literal>_alias<replaceable>1</replaceable></literal> was
	not defined.</para>
    </sect3>
  </sect2>

  <sect2 xml:id="contrib">
    <title>Contributed Software</title>

    <para revision="263285">The &man.xz.1; utility has been updated
      to a post-5.0.5 snapshot.</para>

    <para revision="263369" contrib="sponsor"
      sponsor="&darpa_afrl;">The &man.lldb.1; debugging library has
      been updated to the r196322 snapshot.</para>

    <para revision="263906">The timezone database has been updated to
      version tzdata2014b.</para>

    <para revision="264377"><application>OpenSSH</application> has
      been updated to version 6.6p1.</para>

    <para revision="266692"><application>Sendmail</application>
      has been updated to 8.14.9.</para>

    <para revision="267258"><application>OpenSSL</application> has
      been updated to version 1.0.1h.</para>
  </sect2>

  <sect2 xml:id="ports">
    <title>Ports/Packages Collection Infrastructure</title>

    <para>&nbsp;</para>

  </sect2>

  <sect2 xml:id="releng">
    <title>Release Engineering and Integration</title>

    <para revision="263028">The &man.services.mkdb.8; utility has
      been updated to include endianness awareness, allowing the
      <filename>services.db</filename> database to be created as
      part of the release build, regardless of native- or
      cross-built releases.</para>
  </sect2>

  <sect2 xml:id="doc">
    <title>Documentation</title>

    <para>&nbsp;</para>

  </sect2>
</sect1>

<sect1 xml:id="upgrade">
  <title>Upgrading from Previous Releases of &os;</title>

  <para arch="amd64,i386">Binary upgrades between RELEASE versions
    (and snapshots of the various security branches) are supported
    using the &man.freebsd-update.8; utility.  The binary upgrade
    procedure will update unmodified userland utilities, as well as
    unmodified GENERIC or SMP kernels distributed as a part of an
    official &os; release.  The &man.freebsd-update.8; utility
    requires that the host being upgraded have Internet
    connectivity.</para>

  <para>Source-based upgrades (those based on recompiling the &os;
    base system from source code) from previous versions are
    supported, according to the instructions in
    <filename>/usr/src/UPDATING</filename>.</para>

  <important>
    <para>Upgrading &os; should only be attempted after
      backing up <emphasis>all</emphasis> data and configuration
      files.</para>
  </important>
</sect1>
</article>
