<!DOCTYPE article PUBLIC "-//FreeBSD//DTD DocBook V4.1-Based Extension//EN" [
<!ENTITY % articles.ent PUBLIC "-//FreeBSD//ENTITIES DocBook FreeBSD Articles Entity Set//EN">
%articles.ent;

<!ENTITY % release PUBLIC "-//FreeBSD//ENTITIES Release Specification//EN">
%release;
]>

<article>
<articleinfo>
  <title>&os; &release.current; Release Notes</title>

  <corpauthor>The &os; Project</corpauthor>

  <pubdate>$FreeBSD$</pubdate>

  <copyright>
    <year>2011</year>
    <holder role="mailto:doc@FreeBSD.org">The &os; Documentation Project</holder>
  </copyright>

  <legalnotice id="trademarks" role="trademarks">
    &tm-attrib.freebsd;
    &tm-attrib.ibm;
    &tm-attrib.ieee;
    &tm-attrib.intel;
    &tm-attrib.sparc;
    &tm-attrib.general;
  </legalnotice>

  <abstract>
    <para>The release notes for &os; &release.current; contain a summary
      of the changes made to the &os; base system on the
      &release.branch; development line.
      This document lists applicable security advisories that were issued since
      the last release, as well as significant changes to the &os;
      kernel and userland.
      Some brief remarks on upgrading are also presented.</para>
  </abstract>
</articleinfo>

<sect1 id="intro">
  <title>Introduction</title>

  <para>This document contains the release notes for &os;
    &release.current;.	It
    describes recently added, changed, or deleted features of &os;.
    It also provides some notes on upgrading
    from previous versions of &os;.</para>

<![ %release.type.current [

  <para>The &release.type; distribution to which these release notes
    apply represents the latest point along the &release.branch; development
    branch since &release.branch; was created.	Information regarding pre-built, binary
    &release.type; distributions along this branch
    can be found at <ulink url="&release.url;"></ulink>.</para>

]]>

<![ %release.type.snapshot [

  <para>The &release.type; distribution to which these release notes
    apply represents a point along the &release.branch; development
    branch between &release.prev; and the future &release.next;.
    Information regarding
    pre-built, binary &release.type; distributions along this branch
    can be found at <ulink url="&release.url;"></ulink>.</para>

]]>

<![ %release.type.release [

  <para>This distribution of &os; &release.current; is a
    &release.type; distribution.  It can be found at <ulink
    url="&release.url;"></ulink> or any of its mirrors.	 More
    information on obtaining this (or other) &release.type;
    distributions of &os; can be found in the <ulink
    url="&url.books.handbook;/mirrors.html"><quote>Obtaining
    &os;</quote> appendix</ulink> to the <ulink
    url="&url.books.handbook;/">&os;
    Handbook</ulink>.</para>

]]>

  <para>All users are encouraged to consult the release errata before
    installing &os;.  The errata document is updated with
    <quote>late-breaking</quote> information discovered late in the
    release cycle or after the release.	 Typically, it contains
    information on known bugs, security advisories, and corrections to
    documentation.  An up-to-date copy of the errata for &os;
    &release.current; can be found on the &os; Web site.</para>

</sect1>

  <sect1 id="new">
    <title>What's New</title>

    <para>This section describes the most user-visible new or changed
      features in &os; since &release.prev;.</para>

    <para>Typical release note items document recent security
      advisories issued after &release.prev;, new drivers or hardware
      support, new commands or options, major bug fixes, or
      contributed software upgrades.  They may also list changes to
      major ports/packages or release engineering practices.  Clearly
      the release notes cannot list every single change made to &os;
      between releases; this document focuses primarily on security
      advisories, user-visible changes, and major architectural
      improvements.</para>

    <sect2 id="security">
      <title>Security Advisories</title>

      <para>Problems described in the following security advisories have
	been fixed.  For more information, consult the individual
	advisories available from
	<ulink url="http://security.FreeBSD.org/"></ulink>.</para>

      <informaltable frame="none" pgwide="0">
	<tgroup cols="3">
	  <colspec colwidth="1*">
	  <colspec colwidth="1*">
	  <colspec colwidth="3*">
	    <thead>
	      <row>
		<entry>Advisory</entry>
		<entry>Date</entry>
		<entry>Topic</entry>
	      </row>
	    </thead>

	    <tbody>
	      <row>
		<entry><ulink url="http://security.freebsd.org/advisories/FreeBSD-SA-10:08.bzip2.asc"
			      >SA-10:08.bzip2</ulink></entry>
		<entry>20&nbsp;September&nbsp;2010</entry>
		<entry><para>Integer overflow in bzip2 decompression</para></entry>
	      </row>
<!-- XXX: not for 8.2
	      <row>
		<entry><ulink url="http://security.freebsd.org/advisories/FreeBSD-SA-10:09.pseudofs.asc"
			      >SA-10:09.pseudofs</ulink></entry>
		<entry>10&nbsp;October&nbsp;2010</entry>
		<entry><para>Spurious mutex unlock</para></entry>
	      </row>
-->
	      <row>
		<entry><ulink url="http://security.freebsd.org/advisories/FreeBSD-SA-10:10.openssl.asc"
			      >SA-10:10.openssl</ulink></entry>
		<entry>29&nbsp;November&nbsp;2010</entry>
		<entry><para>OpenSSL multiple vulnerabilities</para></entry>
	      </row>
	    </tbody>
	</tgroup>
      </informaltable>
    </sect2>

    <sect2 id="kernel">
      <title>Kernel Changes</title>

      <para arch="ia64" revision="209326">The maximum number of pages
	used for DMA bounce buffer pool has been increased from 256 to
	1024.</para>

      <para arch="powerpc" revision="209765">The default value of
	<varname>kern.hz</varname> has been increased from 100 to
	1000.</para>

      <para arch="powerpc" revision="209767">The SMP kernel now works on
	MPC7400-based Apple desktop machines such as
	PowerMac3,3.</para>

      <para arch="powerpc" revision="211593">&os;/powerpc now supports
	DMA bounce buffer which is required on systems with larger RAM
	than 4GB.</para>

      <para arch="mips" revision="215938">&os;/mips support has been
	improved.  It now supports SMP on a SWARM with a dual-core
	Sibyte processor.</para>

      <para arch="mips">&os;/mips now supports Netlogic Microsystems'
	XLR and XLS multi-core processor families.</para>

      <para arch="sparc64" revision="215598">&os;/sparc64 now supports
	reservation-based physical memory allocation which provides
	better performance.</para>

      <para arch="amd64" revision="214620">&os;/amd64 now always sets
	the KVA space as equal to or larger than physical memory size.
	The default size was calculated based on one-third of the
	physical memory size by a code derived from one for i386.  It
	has been changed because constraints for memory space are not
	severe on amd64 and this change would help to prevent a
	<quote>kmem_map too small</quote> panic which often occurs
	when using ZFS.</para>

      <para arch="amd64,i386" revision="214621">CPU topology detection
	for Intel CPUs has been improved.</para>

      <para arch="amd64,i386" revision="215513">ACPI suspend/resume
	functionality support has been improved.</para>

      <para arch="amd64,i386" revision="215513">&os; kernel now
	supports <function>kern_fpu_enter()</function> and
	<function>kern_fpu_leave()</function> KPIs which allow the
	kernel subsystems to use XMM register files used in Intel SSE
	(Streaming SIMD Extensions).</para>

      <para arch="amd64,i386,ia64" revision="215006">The &man.acpi.4;
	driver now uses ACPI Reset Register capability by default only
	when a flag in the FADT which indicates it is available.  This
	behavior was controlled by a &man.sysctl.8; variable
	<varname>hw.acpi.handle_reboot</varname> and the default value
	was always set to <literal>0</literal>.</para>

      <para arch="amd64,i386,ia64" revision="215521">The &man.acpi.4;
	driver now supports new loader tunables
	<varname>hw.acpi.install_interface</varname> and
	<varname>hw.acpi.remove_interface</varname>.  For more
	details, see &man.acpi.4; manual page.</para>

      <para revision="209692">The &man.ddb.8; kernel debugger now
	supports an optional delay in <command>reset</command> and
	<command>reboot</command> commands.  This allows an
	administrator to break the system into debugger and trigger
	automatic textdump when an unattended panic occurs.</para>

      <para revision="212230">The &man.ddb.8; kernel debugger now
	supports a <command>show cdev</command> command.  This
	displays the list of all created cdev's, consisting of devfs
	node name and struct cdev address.</para>

      <para revision="214326">The &os; <filename>GENERIC</filename>
	kernel is now compiled with <option>KDB</option> and
	<option>KDB_TRACE</option> options.  From 8.2-RELEASE the
	kernel supports displaying a stack trace on panic by using
	&man.stack.9; facility with no debugger backend like
	&man.ddb.8;.  Note that this does not change the default
	behaviors of the <filename>GENERIC</filename> kernel on
	panic.</para>

      <para revision="213554,213556,213560">The following
	&man.sysctl.8; variables are also now loader tunables:
	<varname>vm.kmem_size</varname>,
	<varname>vm.kmem_size_max</varname>, and
	<varname>vm.kmem_size_min</varname>,
	<varname>debug.kdb.stop_cpus</varname>,
	<varname>debug.trace_on_panic</varname>, and
	<varname>kern.sync_on_panic</varname>.  Also, new
	&man.sysctl.8; variables <varname>vm.kmem_map_size</varname>
	for the current kmem map size and
	<varname>vm.kmem_map_free</varname> for largest contiguous
	free range in kmem map, <varname>vfs.ncsizefactor</varname>
	for size factor for namecache, and
	<varname>vfs.ncnegfactor</varname> for ratio of negative
	namecache entries have been added.</para>

      <para revision="212427">The &os; &man.memguard.9; framework has
	been improved to make it able to detect use-after-free of
	allocated memories over a longer time.  For more details, see
	&man.memguard.9; manual page.</para>

      <para revision="214756"><literal>PT_LWPINFO</literal> request to
	obtain information about the kernel thread that caused the
	traced process to stop in the &man.ptrace.2; process tracing
	and debugging facility has been improved.  It now reports
	system call entry and leave events, as well as availability of
	<varname>siginfo_t</varname> accompanying the reported
	signal.</para>

      <para revision="214254">The &os; &man.crypto.4; framework
	(opencrypto) now supports XTS-AES (XEX-TCB-CTS, or XEX-based
	Tweaked Code Book mode with CipherText Stealing), which is
	defined in IEEE Std. 1619-2007.</para>

      <para arch="amd64" revision="215788">Xen HVM support in
	&os;/amd64 kernel has been improved.  For more details, see
	&man.xen.4; manual page.</para>

      <para arch="amd64,i386" revision="214784">The qpi(4) pseudo bus
	driver has been added.  This supports extra PCI buses on Intel
	QPI chipsets where various hardware such as memory controllers
	for each socket is connected.</para>

      <sect3 id="boot">
	<title>Boot Loader Changes</title>

	<para revision="213994">&os; now fully supports GPT (GUID
	  Partition Table).  Checksums of primary header and primary
	  partition table are verified properly now.</para>

	<para arch="powerpc" revision="215919,215920">Memory
	  management issues which prevents &os; OpenFirmware loader
	  and netbooting from working have been fixed.</para>

	<para revision="212717">The &man.pxeboot.8; now uses NFS
	  version 3 instead of version 2 by default.</para>
      </sect3>

      <sect3 id="proc">
	<title>Hardware Support</title>

	<para arch="amd64,i386" revision="215633">The &man.aesni.4;
	  driver, which supports AES accelerator on Intel CPUs has
	  been added.  This accelerates AES operations for
	  &man.crypto.4;.</para>

	<para arch="amd64,i386" revision="210476">The &man.aibs.4;
	  driver has been added.  This supports the hardware sensors
	  in ASUS motherboards and replaces the &man.acpi.aiboost.4;
	  driver.</para>

	<para arch="amd64,i386" revision="211914">The &man.coretemp.4;
	  driver now supports Xeon 5500/5600 series.</para>

	<para arch="powerpc" revision="215694">&os;/powerpc now
	  supports I2C bus in Apple System Management Unit.</para>

	<para arch="powerpc" revision="215695">A device driver which
	  supports CPU temperature sensors on PowerMac 11,2 has been
	  added.</para>

	<para revision="215482">The &man.ehci.4;, &man.ohci.4;, and
	  &man.uhci.4; driver now support LOW speed BULK transfer
	  mode.</para>

	<para arch="amd64,i386" revision="209952">The &man.ichwd.4;
	  driver now supports Intel NM10 Express chipset watchdog
	  timer.</para>

	<para revision="215036">The &man.tpm.4; driver, which supports
	  Trusted Platform Module has been added.</para>

	<para revision="215944">The xhci(4) driver, which supports
	  Extensible Host Controller Interface (xHCI) and USB 3.0 has
	  been added.</para>

	<sect4 id="mm">
	  <title>Multimedia Support</title>

	  <para>The &os; Linux emulation subsystem now supports
	    video4linux API.  This requires native video4linux
	    hardware drivers such as the ones provided by <filename
	    role="ports">multimedia/pwcbsd</filename> and <filename
	    role="ports">multimedia/webcamd</filename>.</para>

	  <para revision="215483">MIDI input buffer size in the
	    &man.uaudio.4; driver has been changed.  This fixes a
	    problem where the input appears several seconds
	    late.</para>

	  <para revision="215484">An issue in the &man.uaudio.4;
	    driver which prevents some USB audio devices from working
	    has been fixed.</para>
	</sect4>

	<sect4 id="net-if">
	  <title>Network Interface Support</title>

	  <para revision="212021">The &man.alc.4; driver now supports
	    Atheros AR8151/AR8152 PCIe Gigabit/Fast Ethernet
	    controllers.</para>

	  <para revision="215003">A bug in the &man.alc.4; driver
	    which can lead to a system freeze when the system is
	    booted without a cable plugged in has been fixed.  The
	    symptom was found in AR8132 on EEE PC.</para>

	  <para revision="212011">The TX interrupt moderation timer in
	    the &man.alc.4; driver has been reduced from 50ms to 1ms.
	    The 50ms timer resulted in a poor UDP performance.</para>

	  <para revision="214297,214298,214301">The &man.axe.4; driver
	    has been improved for stability and better performance on
	    the TX packet rate.</para>

	  <para revision="214997">The &man.bge.4; driver now supports
	    BCM5718 family.  This family is the successor to the
	    BCM5714/BCM5715 family and supports IPv4/IPv6 checksum
	    offloading, TSO, VLAN hardware tagging, jumbo frames,
	    MSI/MSIX, IOV, RSS and TSS.  The current version of the
	    driver supports all hardware features except IOV and
	    RSS/TSS.</para>

	  <para revision="211367">A bug in the &man.bge.4; driver which
	    prevents TSO in BCM57780 from working has been
	    fixed.</para>

	  <para revision="214700">A bug in the &man.bge.4; driver
	    which can wrongly disable the TX checksum offloading
	    feature as well when one tries only the RX checksum
	    offloading has been fixed.</para>

	  <para revision="214714">Some improvements for reliability of
	    the &man.bge.4; driver with BCM5906 controller has been
	    added.</para>

	  <para revision="214698">The &man.bge.4; driver now supports
	    hardware MAC statistics in controller's internal memory
	    for BCM5705 or newer Broadcom controllers.  These counters
	    can be accessed via &man.sysctl.8; variable
	    <varname>dev.bge.<replaceable>N</replaceable>.stats.*</varname>
	    and provide useful information to diagnose driver
	    issues.</para>

	  <para revision="213109">UDP checksum offloading in the
	    &man.bge.4; driver has been disabled by default.  This is
	    because Broadcom controllers have a bug which can generate
	    UDP datagrams with checksum value <literal>0</literal>
	    when TX UDP checksum offloading is enabled.  The checksum
	    offloading can be enabled by using the following loader
	    tunable:</para>

	  <programlisting>dev.bge.<replaceable>N</replaceable>.forced_udpcsum</programlisting>

	  <para revision="213593">A bug in the &man.bge.4; driver
	    which can lead to poor performance on a system with RAM
	    larger than 4GB has been fixed.  The cause was that all of
	    Broadcom controllers except for BCM5755 and later has 4GB
	    boundary DMA bug and the inefficient use of bounce
	    buffer.</para>

	  <para revision="212275">The &man.bwi.4; driver, which supports
	    Broadcom BCM430* and BCM431* family Wireless Ethernet
	    controllers, has been added.  This is not compiled into
	    the <filename>GENERIC</filename> kernel because there are
	    some problems.  The kernel module
	    <filename>if_bwi.ko</filename> is available and can be
	    loaded without recompiling the kernel to enable this
	    driver.</para>

	  <para revision="212274">A bug in the &man.bwn.4; driver which
	    prevents WPA authentication from working has been
	    fixed.</para>

	  <para revision="215499">A bug in the &man.cdce.4; driver has
	    been fixed.</para>

	  <para revision="211848">The &man.cxgb.4; driver now supports
	    the following new &man.sysctl.8; variables:
	    <varname>hw.cxgb.nfilters</varname> sets the maximum
	    number of entries in the hardware filter table,
	    <varname>dev.cxgbc.<replaceable>N</replaceable>.pkt_timestamp</varname>
	    provides packet timestamp instead of connection hash, and
	    <varname>dev.cxgbc.<replaceable>N</replaceable>.core_clock</varname>
	    provides the core clock frequency in kHz.</para>

	  <para>The &man.em.4; driver has been updated to version
	    7.1.9.</para>

	  <para>The &man.igb.4; driver has been updated to version
	    2.0.7.</para>

	  <para revision="209309">The &man.em.4; and &man.igb.4; drivers
	    now provide statistics counters as &man.sysctl.8; MIB
	    objects.</para>

	  <para revision="211241">The &man.em.4; and &man.igb.4; drivers
	    now support &man.led.4; interface via
	    <filename>/dev/led/em<replaceable>N</replaceable></filename>
	    and
	    <filename>/dev/led/igb<replaceable>N</replaceable></filename>
	    for identification LED control.  The following command
	    line makes the LED blink on <literal>em0</literal>:</para>

	  <screen>&prompt.root; echo f2 &gt; /dev/led/em0</screen>

	  <para revision="212150">The &man.epair.4; virtual Ethernet
	    interface driver now supports explicit UP/DOWN linkstate.
	    This fixes an issue when it is used with the &man.carp.4;
	    protocol.</para>

	  <para revision="214717">The &man.fxp.4; driver now supports
	    TSO over VLAN on i82550 and i82551 controllers.</para>

	  <para revision="210673">The &man.iwn.4; driver now supports
	    Intel Wireless WiFi Link 6000 series.  The firmware has
	    been updated to version 9.221.4.1.</para>

	  <para revision="212386">The &man.ixgbe.4;
	    driver is now also provided as a kernel module.</para>

	  <para revision="209308,215970,217593">The &man.ixgbe.4;
	    driver has been updated to version 2.3.8.  It now supports
	    82599, better interrupt handling, hardware assist to LRO,
	    VM SRIOV interface, and so on.</para>

	  <para
	    revision="211379,215881,215890,2105894,216002,216023,216029,216031,216033">The
	    &man.miibus.4; has been rewritten for the generic IEEE
	    802.3 annex 31B full duplex flow control support.  The
	    &man.alc.4;, &man.bge.4;, &man.bce.4;, &man.cas.4;,
	    &man.fxp.4;, &man.gem.4;, &man.jme.4;, &man.msk.4;,
	    &man.nfe.4;, &man.re.4;, &man.stge.4;, and &man.xl.4;
	    drivers along with atphy(4), bmtphy(4), brgphy(4),
	    e1000phy(4), gentbi(4), inphy(4), ip1000phy(4), jmphy(4),
	    nsgphy(4), nsphyter(4), and &man.rgephy.4; have been
	    updated to support flow control via this facility.</para>

	  <para revision="212386">The &man.mwlfw.4;
	    driver is now also provided as a kernel module.</para>

	  <para revision="216054">A bug in the &man.mxge.4; driver
	    which prevents TSO from working has been fixed.</para>

	  <para revision="215456">The &man.nfe.4; driver now supports
	    WoL (Wake on LAN).</para>

	  <para revision="215218">The &man.re.4; driver now supports
	    64-bit DMA addressing for RTL810xE/RTL8168/RTL8111 PCIe
	    controllers.</para>

	  <para revision="215405">The &man.re.4; driver now supports
	    hardware interrupt moderation of TX completion interrupt
	    on RTL8169/RTL8168 controllers.</para>

	  <para revision="211377">The &man.rl.4; driver now supports WoL
	    (Wake on LAN) on RTL8139B or newer controllers.</para>

	  <para revision="215222">The &man.rl.4; driver now supports
	    reading hardware statistics counters by setting a
	    &man.sysctl.8; variable
	    <varname>dev.rl.<replaceable>N</replaceable>.stats</varname>
	    to <literal>1</literal>.</para>

	  <para revision="212039">The &man.rl.4; driver now supports a
	    device hint to change a way of register access.  Although
	    some newer RTL8139 controllers support memory-mapped
	    register access, it is difficult to detect the support
	    automatically.  For this reason the driver uses I/O
	    mapping by default and provides the following device hint.
	    If it is set to <literal>0</literal>, the driver uses
	    memory mapping for register access.</para>

	  <programlisting>hint.rl.<replaceable>N</replaceable>.prefer_iomap="0"</programlisting>

	  <para>Note that the default value is <literal>1</literal>.</para>

	  <para revision="214407">The &man.rl.4; driver has been
	    improved on interrupt handling.  It now has better TX
	    performance under high RX load.</para>

	  <para revision="215216">A bug in the &man.sk.4; driver has
	    been fixed.  It did not program the station address for
	    Yukon controllers and overriding the station address with
	    &man.ifconfig.8; was not possible.</para>

	  <para revision="211359">The &man.sk.4; driver now disable TX
	    checksum offloading by default.  This is because some
	    revision of Yukon controller generates corrupted frames.
	    The checksum offloading can be enabled manually by using
	    <option>txcsum</option> option in the &man.ifconfig.8;
	    utility.</para>

	  <para revision="212468,213612,213628">The &man.sis.4; driver
	    now works on all supported platforms.  Some stability and
	    performance issues have also been fixed.</para>

	  <para revision="213637">The &man.sis.4; driver now supports
	    WoL (Wake on LAN) on NS DP8315 controller.</para>

	  <para revision="213626">A tunable
	    <varname>dev.sis.<replaceable>N</replaceable>.manual_pad</varname>
	    for the &man.sis.4; driver has been added.  This controls
	    whether padding with 0x00 for short frames by software,
	    not the controller.  The reason why this tunable has been
	    added is that NS DP83815/DP83816 pads them with 0xff
	    though RFC 1042 specifies it should be 0x00.  The tunable
	    is disabled by default, which means padding with 0xff is
	    used because padding with 0x00 by software needs extra CPU
	    cycles.  Setting a non-zero value enables the software
	    padding.</para>

	  <para revision="211357">The &man.ste.4; driver now supports a
	    device hint to change a way of register access.  Although
	    it uses memory-mapped register access by default, some old
	    IC Plus Corp (formerly Sundace) controllers are found
	    unstable.  The following device hint makes the driver use
	    I/O mapping for register access:</para>

	  <programlisting>hint.ste.<replaceable>N</replaceable>.prefer_iomap="1"</programlisting>

	  <para revision="213120">The &man.xl.4; driver now supports
	    WoL (Wake on LAN).  Note that not all controllers support
	    this functionality and some need an additional remote
	    wakeup cable.</para>
	</sect4>
      </sect3>

      <sect3 id="net-proto">
	<title>Network Protocols</title>

	<para revision="209783">The &man.alq.9; support is now
	  provided as a kernel module
	  <filename>alq.ko</filename>.</para>

	<para revision="212738,216348">A bug in the &man.ipfw.4;
	  packet filter subsystem has been fixed.  The &man.sysctl.8;
	  variable <varname>net.inet.ip.fw.one_pass</varname> did not
	  work for <literal>netgraph</literal> action and in-kernel
	  NAT.</para>

	<para revision="215342">A new loader tunable
	  <varname>net.link.ifqmaxlen</varname> has been added.  It
	  specifies the default value of send interface queue length.
	  The default value for this parameter is
	  <varname>50</varname>.</para>

	<para revision="212742">A <literal>ngtee</literal> action in
	  the &man.ipfw.4; packet filter subsystem has been changed.
	  It no longer accepts a packet.</para>

	<para revision="214108">A possible panic in the &man.ipfw.4;
	  pseudo interface for logging has been fixed.</para>

	<para revision="209691">IPsec flow distribution has been
	  improved for more parallel processing.</para>

	<para revision="209277">A bug in &os; IPv4 stack that a proxy
	  ARP entry cannot be added over &man.netgraph.4; interfaces
	  has been fixed.</para>

	<para revision="211435">A bug in &os; IPv6 stack which prevents
	  an <option>-I</option> in the &man.ping6.8; utility from
	  working with
	  <varname>net.inet6.ip6.use_defaultzone=1</varname> has been
	  fixed.</para>

	<para revision="214111">The &man.lagg.4; interface now
	  supports a &man.sysctl.8; variable
	  <varname>net.link.lagg.failover_rx_all</varname>.  This
	  controls whether to accept input packets on any link in a
	  failover lagg.</para>

	<para revision="215869">The &man.ng.eiface.4; &man.netgraph.4;
	  node now supports VLAN-compatible MTU and an MTU size which
	  is larger than 1500.</para>

	<para revision="212320">The &man.ng.ether.4; &man.netgraph.4;
	  node now supports interface transfer between multiple virtual
	  network stacks by &man.ifconfig.8; <command>vnet</command>
	  command.  A &man.ng.ether.4; node associated with an network
	  interface is now destroyed and recreated when the network
	  interface is moved to another vnet.</para>

	<para revision="209843">A new &man.netgraph.4; node
	  &man.ng.patch.4; has been added.  This performs data
	  modification of packets passing through.  Modifications are
	  restricted to a subset of C language operations on unsigned
	  integers of 8, 16, 32 or 64-bit size.</para>

	<para revision="212905">An ICMP unreachable problem in the
	  &man.pf.4; packet filter subsystem when TSO support is
	  enabled has been fixed.</para>

	<para revision="211538">A TCP bandwidth delay product window
	  limiting algorithm by a &man.sysctl.8; variable
	  <varname>net.inet.tcp.inflight.enable</varname> is now
	  disabled by default.  It has been found that this algorithm
	  is inefficient on a fast network with smaller RTT than 10ms.
	  It had been enabled by default since 5.2-RELEASE, and then
	  had been disabled only if the RTT was lesser than 10ms since
	  7.0-RELEASE.  Pluggable TCP congestion control algorithm
	  modules are planned to be added for the future
	  releases.</para>

	<para revision="211602">A bug in &os; TCP Path MTU discovery
	  which can lead to a wrong calculation for a smaller MTU than
	  256 octets has been fixed.  Note that this bug does not
	  affect when MTU is equal to or larger than 256
	  octets.</para>

	<para revision="211870">The TCP initial window increase in RFC
	  3390 which can be controlled by a &man.sysctl.8; variable
	  <varname>net.inet.tcp.rfc3390</varname> now reduces the
	  congestion window to the restart window if a TCP connection
	  has been idle for one retransmit timeout or more.  For more
	  details, see RFC 5681 Section 4.1.</para>

	<para revision="214859">The &man.siftr.4;, Statistical
	  Information For TCP Research (SIFTR) kernel module has been
	  added.  This is a facility that logs a range of statistics
	  on active TCP connections to a log file.  It provides the
	  ability to make highly granular measurements of TCP
	  connection state, aimed at system administrators, developers
	  and researchers.</para>

	<para revision="212319">&os; virtual network stack (vnet) now
	  supports IPv4 multicast routing.</para>
      </sect3>

      <sect3 id="disks">
	<title>Disks and Storage</title>

	<para revision="211458">The &man.ahci.4; driver now disables NCQ
	  and PMP support on VIA VT8251 because they are unreliable
	  under load.</para>

	<para revision="211718">The &man.ahci.4; driver now uses 15
	  seconds for device reset timeout instead of 10 seconds
	  because some devices needs 10-12 seconds to spin up.</para>

	<para revision="215825">The &man.arcmsr.4; driver
	  has been updated to version 1.20.00.19.</para>

	<para revision="215173">The &man.ada.4; driver now supports a
	  new &man.sysctl.8; variable
	  <varname>kern.cam.ada.spindown_shutdown</varname> which
	  controls whether or not to spin-down disks when shutting
	  down if the device supports the functionality.  The default
	  value is <literal>1</literal>.</para>

	<para revision="210164">The &man.ata.4; driver
	  now supports limiting initial ATA mode for devices via
	  device hints
	  <varname>hint.<replaceable>devname</replaceable>.<replaceable>unit</replaceable>.dev<replaceable>N</replaceable
	  >.mode</varname> or
	  <varname>hint.<replaceable>devname</replaceable>.<replaceable>unit</replaceable>.mode</varname>.
	  The valid values are the same as ones supported in the
	  &man.atacontrol.8; and &man.camcontrol.8;.</para>

	<para revision="210204">The &man.ata.4; driver now disables
	  cable status check on both of controller and device side
	  when the loader tunable
	  <varname>hw.ata.ata_dma_check_80pin</varname> is
	  <literal>0</literal>.  The check on controller side was
	  performed regardless of this loader tunable.</para>

	<para revision="215777">The &man.ata.4; driver now reports
	  SATA power management capabilities to &man.CAM.4; layer when
	  <option>ATA_CAM</option> is enabled.  This allows a device
	  to initiate transitions if controller configured to accept
	  it.  This makes
	  <varname>hint.ata.<replaceable>N</replaceable>.pm_level=1</varname>
	  mode work.</para>

	<para revision="214671">The &man.ata.4; driver has been
	  improved on hotplugging and connection speed reporting
	  support for some Intel SATA controllers including ICH5 and
	  ICH8+ operating in legacy mode.</para>

	<para revision="213291">An issue of device detection of
	  Serverworks K2 SATA controllers in the &man.ata.4; has been fixed.</para>

	<para revision="214667">A bug in the &man.ata.4; driver which
	  prevents some Silicon Image chipsets from working on big
	  endian systems has been fixed.</para>

	<para revision="214330">The &man.gconcat.8; GEOM class now
	  supports kernel crash dump.  The dumping is performed to the
	  component where a dump partition begins.</para>

	<para revision="214405">A bug in the &man.geli.8; GEOM class
	  on little endian platforms has been fixed.  The metadata
	  version has been updated to <literal>4</literal> due to
	  this.</para>

	<para revision="214405">The &man.geli.8; GEOM class now
	  supports a &man.sysctl.8; variable
	  <varname>kern.geom.eli.overwrites</varname>.  This specifies
	  the number of times on-disk keys should be overwritten when
	  destroying them.  The default value is
	  <literal>5</literal>.</para>

	<para revision="214405">The &man.geli.8; GEOM class has been
	  improved for preventing the same encryption key from being
	  used in 2^20 blocks (sectors).</para>

	<para revision="214405">The &man.geli.8; GEOM class now uses
	  XTS-AES mode by default.</para>

	<para revision="214405">A &man.sysctl.8; variable
	  <varname>kern.geom.eli.debug</varname> now allows a value
	  <literal>-1</literal>.  This means turn off any log messages
	  of the &man.geli.8; GEOM class.</para>

	<para revision="210376">The &man.mpt.4; driver now supports
	  larger I/O sizes which the device and &man.CAM.4; subsystem
	  can support.  This was limited to 64KB, and the number of
	  scatter/gather segments was limited to 33 on platforms with
	  4K pages.</para>

	<para revision="209404">The &man.twa.4;
	  driver has been updated.  The version number is
	  3.80.06.003.</para>
      </sect3>

      <sect3 id="fs">
	<title>File Systems</title>

	<para revision="214050">The &man.linprocfs.5; Linux process
	  file system now supports
	  <filename>proc/$$/environment</filename>.</para>

	<para revision="212716">The &os; NFS client now supports a
	  kernel environment variable
	  <varname>boot.nfsroot.nfshandlelen</varname>.  This lets the
	  diskless root file system on boot to use NFS version 3 and
	  the specified file handle length.  If this variable is not
	  set, NFS version 2 is used.</para>

	<para revision="212668">The ZFS on-disk format has been updated
	  to version 15.</para>

	<para revision="212671">The ZFS metaslab code has been updated.
	  This provides a noticeable improvement on write speed,
	  especially on pools with less than 30% of free space.  The
	  related OpenSolaris Bug IDs are 6826241, 6869229, 6918420,
	  and 6917066.</para>

	<para revision="214013">The ZFS now supports offlining of log
	  devices.  The related OpenSolaris Bug IDs are 6599442,
	  6726045, and 6803605.</para>

	<para revision="212672">Performance improvements for the ZFS
	  have been imported from OpenSolaris.  They include caching of
	  ACL permission checks, faster handling of &man.stat.2;,
	  mitigation of mutex lock contention.  The related
	  OpenSolaris Bug IDs are 6802734, 6844861, 6848431, 6775100,
	  6827779, 6857433, 6860318, 6865875, 6867395, 6868276, and
	  6870564.</para>

	<para revision="210541">The default value of
	  <varname>vfs.zfs.vdev.max_pending</varname> has been
	  decreased from 35 to 10 (OpenSolaris Bug ID is 6891731) to
	  improve latency.</para>

	<para>Various bugs in the ZFS subsystem have been fixed.  The
	  related OpenSolaris Bug IDs are: 6328632, 6396518, 6501037,
	  6504953, 6542860, 6551866, 6572357, 6572376, 6582163,
	  6586537, 6595194, 6596237, 6604992, 6621164, 6623978,
	  6633095, 6635482, 6664765, 6674216, 6696242, 6696858,
	  6702206, 6710376, 6713916, 6717022, 6722540, 6722991,
	  6737463, 6739487, 6739553, 6740164, 6745863, 6747596,
	  6747698, 6748436, 6755435, 6757430, 6758107, 6759986,
	  6759999, 6761100, 6761406, 6764124, 6765294, 6767129,
	  6769612, 6770866, 6774713, 6774886, 6775697, 6776104,
	  6776548, 6780491, 6784104, 6784108, 6785914, 6788152,
	  6788830, 6789318, 6790064, 6790345, 6790687, 6791064,
	  6791066, 6791071, 6791101, 6792134, 6792139, 6792884,
	  6793430, 6794136, 6794570, 6794830, 6797109, 6797118,
	  6798384, 6798878, 6799895, 6800184, 6800942, 6801507,
	  6801810, 6803343, 6803822, 6804954, 6807339, 6807765,
	  6809340, 6809683, 6809691, 6810367, 6815592, 6815893,
	  6816124, 6818183, 6821169, 6821170, 6822816, 6824006,
	  6824062, 6824968, 6826466, 6826468, 6826469, 6826470,
	  6826471, 6826472, 6827260, 6830237, 6830541, 6833162,
	  6833711, 6833999, 6834217, 6836714, 6836768, 6838062,
	  6838344, 6841321, 6843014, 6843069, 6843235, 6844069,
	  6844900, 6847229, 6848242, 6856634, 6857012, 6861983,
	  6862984, 6863610, 6870564, 6880764, 6882227, 6892298,
	  6898245, 6906110, 6906946, 6939941, 6950219, 6951024, and
	  6953403.</para>
      </sect3>
    </sect2>

    <sect2 id="userland">
      <title>Userland Changes</title>

      <para revision="209267">The &man.arp.8; utility has been improved.
	It now runs faster even when a single interface has a number
	of aliases.</para>

      <para revision="214729">A bug in the &man.b64decode.1; which
	prevents an <option>-r</option> option from handling arbitrary
	breaks in a base64 encoded string has been fixed.</para>

      <para revision="211723">The &man.calendar.1; utility now supports
	repeating events which span multiple years, lunar events, and
	solar events.</para>

      <para revision="210915">The &man.dhclient.8; utility now reports a
	reason for exiting and the 10-second period in which the
	&man.dhclient.8; ignores routing messages has been changed to
	start just after <filename>dhclient-script</filename> starts
	instead of just after it finished.  This change fixes a
	symptom that &man.dhclient.8; silently exits under a certain
	condition.</para>

      <para revision="214983">Userland support for the &man.dtrace.1;
	subsystem has been added.  This allows inspection of userland
	software itself and its correlation with the kernel, thus
	allowing a much better picture of what exactly is going on
	behind the scenes.  The &man.dtruss.1; utility has been added
	and the <filename>libproc</filename> has been updated to
	support the facility.</para>

      <para revision="209362">The &man.du.1; utility now supports a
	<option>-t <replaceable>threshold</replaceable></option>
	option to display entries that exceeds the value of
	<replaceable>threshold</replaceable>.  If the value is
	negative, it displays entries with a value less than the
	absolute value of <replaceable>threshold</replaceable>.</para>

      <para revision="215667">The &man.fdisk.8; utility now supports
	partitions which are provided by &man.gjournal.8; or
	&man.geli.8; GEOM class.</para>

      <para revision="210567">The &man.gcore.1; utility now supports an
	<option>-f</option> flag which forces a full dump of all the
	segments except for the malformed ones.</para>

      <para revision="214405">The &man.geli.8; utility now supports
	<command>resize</command> subcommand to resize encrypted file
	systems prior to growing it.</para>

      <para revision="214405">The &man.geli.8; utility now supports
	<command>suspend</command> and <command>resume</command>
	subcommands.  The <command>suspend</command> subcommand makes
	&man.geli.8; devices wait for all in-flight I/O requests,
	suspend new I/O requests, remove all &man.geli.8; sensitive
	data from the kernel memory (like encryption keys) and will
	wait for either <command>geli resume</command> or
	<command>geli detach</command> command.  For more
	information, see &man.geli.8; manual page.</para>

      <para revision="214405">The &man.geli.8; utility now checks the
	metadata provider size strictly.  If the check fails, the
	provider is not attached.  A new option <option>-f</option>
	can override this behavior.</para>

      <para revision="214405">The &man.geli.8; utility now supports
	<option>-J <replaceable>newpassfile</replaceable></option> and
	<option>-j <replaceable>passfile</replaceable></option>
	options for loading passphrase from a file.</para>

      <para revision="211938">The <function>gethost*()</function>,
	<function>getnet*()</function>, and
	<function>getproto*()</function> functions now set the errno
	to <literal>ERANGE</literal> and the NSS backend terminates
	with <literal>NS_RETURN</literal> when the result buffer size
	is too small.</para>

      <para revision="209497">The &man.gpart.8; utility now supports
	<command>resize</command> command to resize partitions for all
	schemes but EBR.</para>

      <para revision="215941">The &man.gpart.8; utility now supports
	<command>backup</command> and <command>restore</command>
	subcommands to backup partition tables and restore
	them.</para>

      <para revision="213661">The &man.gpart.8; utility now handles
	given geom/provider names with and without
	<filename>/dev/</filename> prefix.</para>

      <para revision="213684">The &man.gpart.8; utility now supports
	an <option>-F</option> option for <command>force</command>
	subcommand.  This option force destroying of the partition
	table even if it is not empty.</para>

      <para revision="213684">The &man.gpart.8; utility now supports a
	<command>recover</command> subcommand for GPT partition
	tables.  A corrupted GPT is now marked when the following
	three types of corruption:</para>

      <itemizedlist>
	<listitem>
	  <para>Primary GPT header or table is corrupted.</para>
	</listitem>

	<listitem>
	  <para>Secondary GPT header or table is corrupted.</para>
	</listitem>

	<listitem>
	  <para>Secondary GPT header is not located at the last LBA.</para>
	</listitem>
      </itemizedlist>

      <para>Any changes to the corrupted GPT table is not allowed
	except for <command>destroy</command> and
	<command>recover</command> subcommands.</para>

      <para revision="213994">The &man.gpart.8; utility now supports
	<literal>GPT_ENT_ATTR_BOOTME</literal>,
	<literal>GPT_ENT_ATTR_BOOTONCE</literal>, and
	<literal>GPT_ENT_ATTR_BOOTFAILED</literal> attributes in GPT.
	The attribute keywords in the command line are
	<literal>bootme</literal>, <literal>bootonce</literal>, and
	<literal>bootfailed</literal> respectively.</para>

      <para revision="215728">An issue in the &man.newfs.8; utility
	has been fixed.  A UFS1 file system created with 64KB
	blocksize was incorrectly recognized as one with a broken
	superblock.  This is because &os; kernel checks UFS2
	superblock at 64KB offset in the partition first, and UFS1
	with 64KB blocksize has an alternative superblock at the same
	location.  For example, a file system created by
	<command>newfs -U -O 1 -b 65536 -f 8192</command> could lead
	to this symptom.</para>

      <para revision="213049">The &man.hastd.8; utility now supports
	<literal>SIGHUP</literal> for reloading the configuration
	file.  When <literal>SIGTERM</literal> or
	<literal>SIGINT</literal> is received, the worker processes
	terminate.</para>

      <para revision="212144">The &man.ifconfig.8; utility now check an
	invalid CIDR subnet notation more strictly.  It wrongly
	accepted <literal>10.0.0.1/10.0.0.1</literal> as
	<literal>10.0.0.1/10</literal>.</para>

      <para revision="215237">An accuracy issue in the &man.jn.3; and
	&man.jnf.3; functions in <filename>libm</filename> has been
	fixed.</para>

      <para revision="209284">Incorrect behaviors in stuttering
	sequences and reverse ranges in the &man.jot.1; utility have
	been fixed.</para>

      <para revision="213667">The <filename>libarchive</filename> and
	&man.tar.1; utility now support LZMA (Lempel-Ziv-Markov
	chain-Algorithm) compression format.</para>

      <para revision="215229">The &man.tar.1; utility now supports a
	blocksize which is up to <literal>8192</literal> (4MB) in the
	<option>-b <replaceable>blocksize</replaceable></option>
	option.</para>

      <para revision="214442">A bug in the &man.lpr.1; utility which
	prevents it from working with some files on a ZFS file system
	has been fixed.</para>

      <para revision="213978">The <option>-p</option> option in the
	&man.mount.8; utility now displays <literal>rw</literal> mount
	option correctly as in the &man.fstab.5; format.</para>

      <para revision="213889">The &man.ncal.1; utility has been
	updated.  The option <option>-b</option> has been replaced
	with <option>-C</option> and <option>-B
	<replaceable>number</replaceable></option>.  Options
	<option>-3</option> to show previous, this and next month, and
	<option>-A <replaceable>number</replaceable></option> to show
	months after this month have been added.  The option
	<option>-m <replaceable>N</replaceable>
	<replaceable>YYYY</replaceable></option> now prints only the
	month, not the whole year.</para>

      <para revision="211699">The &man.newsyslog.8; utility now supports
	an <option>-S <replaceable>pidfile</replaceable></option>
	option to override the default &man.syslogd.8; PID
	file.</para>

      <para revision="215622">The &man.newsyslog.8; utility now
	supports a special log file name
	<literal>&lt;include&gt;</literal> for processing file
	inclusion.  Globbing in the file name and circular dependency
	detection are supported.  For more details, see
	&man.newsyslog.conf.5; manual page.</para>

      <para revision="213980">The &man.ntpd.8; utility is now compiled
	with shared memory reference clock driver.  For example, GPS
	devices can be used as source of precise time via <filename
	role="ports">astro/gpsd</filename> in the Ports
	Collection.</para>

      <para revision="212848">An off-by-one error in the &man.pax.1;
	utility when ustar file name is too long has been
	fixed.</para>

      <para revision="209912">The &man.pkill.1; utility now supports
	an <option>-l</option> option which the &man.kill.1; utility
	does.</para>

      <para revision="211098">The &man.pmcstat.8; utility now supports a
	file and a network socket as a top source.  A new option
	<option>-O <replaceable>filename</replaceable></option>
	specifies to send log output to
	<replaceable>filename</replaceable>, and another new option
	<option>-R <replaceable>filename</replaceable></option>
	specifies to receive events from
	<replaceable>filename</replaceable>.  For a socket, the
	<replaceable>filename</replaceable> is in a form of
	<replaceable>ipaddr:port</replaceable>.  This allows top
	monitoring over TCP on a system with no local symbols, for
	example.</para>

      <para revision="210089">The &man.pom.6; utility now
	supports a <option>-p</option> flag to print only the
	percentage.</para>

      <para revision="212472">The &man.powerd.8; utility now supports
	an <option>-m <replaceable>freq</replaceable></option> and
	<option>-M <replaceable>freq</replaceable></option> to control
	the minimum and maximum frequency, respectively.</para>

      <para revision="213825">The &man.ruptime.1; utility now displays
	hostnames longer than 12 characters.</para>

      <para revision="215066">A behavior of the &man.sh.1; program
	when an <option>-u</option> option is specified has been
	changed.  The special parameters <varname>$@</varname> and
	<varname>$*</varname> no longer cause an error when there are
	no positional parameters.</para>

      <para revision="210616">A bug in the &man.sh.1; program has been
	fixed.  A <literal>SIGINT</literal> signal is now passed
	through from a child process if the shell is interactive and
	the job control is enabled.  For example, aborting
	&man.sleep.1; command by Ctrl-C no longer display
	<literal>ok</literal> in the following command line:</para>

      <screen>&prompt.user; sleep 5; echo ok</screen>

      <para revision="210732">The &man.sh.1; program now supports a
	<command>bg</command> command consisting solely of
	redirections.  For example:</para>

      <screen>&prompt.user; &lt; /dev/null &amp;</screen>

      <para revision="211536">The &man.sleep.1; utility now supports
	<literal>SIGINFO</literal> signal and reports the specified
	sleep time and the remaining time.</para>

      <para revision="213036,213038">The &man.tftp.1; and &man.tftpd.8;
	utilities have been improved for better interoperability and
	they now supports RFC 1350, 2347, 2348, 2349, and 3617.</para>

      <para revision="213899">A bug in <literal>[=]=]</literal>
	equivalent class handling in the &man.tr.1; utility has been
	fixed.  A closing bracket immediately after
	<literal>[=</literal> was incorrectly treated as
	special.</para>

      <para revision="210566">The &man.uname.1; utility now supports an
	<option>-o</option> flag as a synonym for the
	<option>-s</option> flag for compatibility with other
	systems.</para>

      <para revision="211060">Bugs in &man.vi.1; utility have been
	fixed.  They include handling of <literal>^@</literal> and
	<literal>^C</literal> in insert mode when reading an ex
	command.</para>

      <para revision="214345">The &man.watchdogd.8; program now set
        <literal>MADV_PROTECT</literal> memory flag onto themselves to
        protect from being terminated by the &os; kernel when
        available memory becomes short.  This kind of process
        termination happens in a swap-intensive workload.</para>

      <para revision="209870">The <command>set sharenfs</command>
	command in the &man.zfs.8; utility now supports
	<option>sec</option> option.</para>

      <sect3 id="periodic-scripts">
        <title><filename>/etc/periodic</filename> Scripts</title>

	<para>A periodic script for <command>zfs scrub</command> has
	  been added.  For more details, see &man.periodic.conf.5;
	  manual page.</para>

	<para>A periodic script which can be used to find installed
	  ports' files with mismatched checksum has been added. For more
	  details, see &man.periodic.conf.5;</para>
      </sect3>
    </sect2>

    <sect2 id="contrib">
      <title>Contributed Software</title>

      <para>The <application>ACPI-CA</application> has been updated to
	20101013.</para>

      <para revision="214287">The &man.ee.1; program has been updated
	to version 1.5.2.</para>

      <para><application>ISC BIND</application> has been updated to
	version 9.6-ESV-R4.</para>

      <para><application>netcat</application> has been updated to
	version 4.8.</para>

      <para><application>OpenSSL</application> has been updated to
	version 0.9.8q.</para>

      <para>The <application>timezone</application> database has been
	updated to the <application>tzdata2010o</application>
	release.</para>

      <para>The <application>xz</application> program has been updated
	from snapshot as of 12 April 2010 to 5.0.0 release</para>
    </sect2>

    <sect2 id="ports">
      <title>Ports/Packages Collection Infrastructure</title>

      <para revision="215738">The &man.pkg.create.1; utility now supports LZMA
	(<application>xz</application>) compression.  Note that the
	default is still <application>bzip2</application>.</para>
    </sect2>

    <sect2 id="releng">
      <title>Release Engineering and Integration</title>

      <para revision="211007">The &man.sysinstall.8; utility now uses
	the following numbers for default and minimum partition sizes:
	1GB for <filename>/</filename>, 4GB for
	<filename>/var</filename>, and 1GB for
	<filename>/tmp</filename>.</para>

      <para revision="211009">The &man.sysinstall.8; utility now
	attempts to enable &man.getty.8; on a serial port when no VGA
	card on the system.</para>

      <para>The supported version of
	the <application>GNOME</application> desktop environment
	(<filename role="package">x11/gnome2</filename>) has been
	updated to 2.32.1.</para>

      <para>The supported version of
	the <application>KDE</application> desktop environment
	(<filename role="package">x11/kde4</filename>) has been
	updated to 4.5.5.</para>
    </sect2>
  </sect1>

  <sect1 id="upgrade">
    <title>Upgrading from previous releases of &os;</title>

    <para arch="amd64,i386">Upgrades between RELEASE versions (and
      snapshots of the various security branches) are supported using
      the &man.freebsd-update.8; utility.  The binary upgrade
      procedure will update unmodified userland utilities, as well as
      unmodified GENERIC kernel distributed as a part of an
      official &os; release.  The &man.freebsd-update.8; utility
      requires that the host being upgraded has Internet
      connectivity.</para>

    <para>An older form of binary upgrade is supported through the
      <command>Upgrade</command> option from the main
      &man.sysinstall.8; menu on CDROM distribution media.  This type
      of binary upgrade may be useful on non-&arch.i386;,
      non-&arch.amd64; machines or on systems with no Internet
      connectivity.</para>

    <para>Source-based upgrades (those based on recompiling the &os;
      base system from source code) from previous versions are
      supported, according to the instructions in
      <filename>/usr/src/UPDATING</filename>.</para>

    <important>
      <para>Upgrading &os; should, of course, only be attempted after
	backing up <emphasis>all</emphasis> data and configuration
	files.</para>
    </important>
  </sect1>
</article>
