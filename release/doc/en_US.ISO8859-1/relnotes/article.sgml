<!DOCTYPE article PUBLIC "-//FreeBSD//DTD DocBook V4.1-Based Extension//EN" [
<!ENTITY % articles.ent PUBLIC "-//FreeBSD//ENTITIES DocBook FreeBSD Articles Entity Set//EN">
%articles.ent;

<!ENTITY % release PUBLIC "-//FreeBSD//ENTITIES Release Specification//EN">
%release;
]>

<article>
<articleinfo>
  <title>&os; &release.current; Release Notes</title>

  <corpauthor>The &os; Project</corpauthor>

  <pubdate>$FreeBSD$</pubdate>

  <copyright>
    <year>2012</year>
    <holder role="mailto:doc@FreeBSD.org">The &os; Documentation Project</holder>
  </copyright>

  <legalnotice id="trademarks" role="trademarks">
    &tm-attrib.freebsd;
    &tm-attrib.ibm;
    &tm-attrib.ieee;
    &tm-attrib.intel;
    &tm-attrib.sparc;
    &tm-attrib.general;
  </legalnotice>

  <abstract>
    <para>The release notes for &os; &release.current; contain a summary
      of the changes made to the &os; base system on the
      &release.branch; development line.
      This document lists applicable security advisories that were issued since
      the last release, as well as significant changes to the &os;
      kernel and userland.
      Some brief remarks on upgrading are also presented.</para>
  </abstract>
</articleinfo>

<sect1 id="intro">
  <title>Introduction</title>

  <para>This document contains the release notes for &os;
    &release.current;.  It
    describes recently added, changed, or deleted features of &os;.
    It also provides some notes on upgrading
    from previous versions of &os;.</para>

  <para>This distribution of &os; &release.current; is a
    &release.type; distribution.  It can be found at <ulink
    url="&release.url;"></ulink> or any of its mirrors.  More
    information on obtaining this (or other) &release.type;
    distributions of &os; can be found in the <ulink
    url="&url.books.handbook;/mirrors.html"><quote>Obtaining
    &os;</quote> appendix</ulink> to the <ulink
    url="&url.books.handbook;/">&os;
    Handbook</ulink>.</para>

  <para>All users are encouraged to consult the release errata before
    installing &os;.  The errata document is updated with
    <quote>late-breaking</quote> information discovered late in the
    release cycle or after the release.  Typically, it contains
    information on known bugs, security advisories, and corrections to
    documentation.  An up-to-date copy of the errata for &os;
    &release.current; can be found on the &os; Web site.</para>

</sect1>

<sect1 id="new">
  <title>What's New</title>

  <para>This section describes
    the most user-visible new or changed features in &os;
    since &release.prev;.</para>

  <para>Typical release note items
    document recent security advisories issued after
    &release.prev;,
    new drivers or hardware support, new commands or options,
    major bug fixes, or contributed software upgrades.  They may also
    list changes to major ports/packages or release engineering
    practices.  Clearly the release notes cannot list every single
    change made to &os; between releases; this document focuses
    primarily on security advisories, user-visible changes, and major
    architectural improvements.</para>

  <sect2 id="security">
    <title>Security Advisories</title>

      <para>Problems described in the following security advisories have
	been fixed.  For more information, consult the individual
	advisories available from
	<ulink url="http://security.FreeBSD.org/"></ulink>.</para>

      <informaltable frame="none" pgwide="1">
	<tgroup cols="3">
	  <colspec colwidth="1*">
	  <colspec colwidth="1*">
	  <colspec colwidth="3*">
	  <thead>
	    <row>
	      <entry>Advisory</entry>
	      <entry>Date</entry>
	      <entry>Topic</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry><ulink url="http://security.freebsd.org/advisories/FreeBSD-SA-11:01.mountd.asc"
		  >SA-11:01.mountd</ulink></entry>
	      <entry>20&nbsp;April&nbsp;2011</entry>
	      <entry><para>Network ACL mishandling in &man.mountd.8;</para></entry>
	    </row>

	    <row>
	      <entry><ulink url="http://security.freebsd.org/advisories/FreeBSD-SA-11:02.bind.asc"
		  >SA-11:02.bind</ulink></entry>
	      <entry>28&nbsp;May&nbsp;2011</entry>
	      <entry><para>BIND remote DoS with large RRSIG RRsets and negative
		  caching</para></entry>
	    </row>

	    <row>
	      <entry><ulink url="http://security.freebsd.org/advisories/FreeBSD-SA-11:04.compress.asc"
		  >SA-11:04.compress</ulink></entry>
	      <entry>28&nbsp;September&nbsp;2011</entry>
	      <entry><para>Errors handling corrupt compress file in
		  &man.compress.1; and &man.gzip.1;</para></entry>
	    </row>

	    <row>
	      <entry><ulink url="http://security.freebsd.org/advisories/FreeBSD-SA-11:05.unix.asc"
		  >SA-11:05.unix</ulink></entry>
	      <entry>28&nbsp;September&nbsp;2011</entry>
	      <entry><para>Buffer overflow in handling of UNIX socket
		  addresses</para></entry>
	    </row>

	    <row>
	      <entry><ulink url="http://security.freebsd.org/advisories/FreeBSD-SA-11:06.bind.asc"
		  >SA-11:06.bind</ulink></entry>
	      <entry>23&nbsp;December&nbsp;2011</entry>
	      <entry><para>Remote packet Denial of Service against &man.named.8;
		  servers</para></entry>
	    </row>

	    <row>
	      <entry><ulink url="http://security.freebsd.org/advisories/FreeBSD-SA-11:07.chroot.asc"
		  >SA-11:07.chroot</ulink></entry>
	      <entry>23&nbsp;December&nbsp;2011</entry>
	      <entry><para>Code execution via chrooted ftpd</para></entry>
	    </row>

	    <row>
	      <entry><ulink url="http://security.freebsd.org/advisories/FreeBSD-SA-11:08.telnetd.asc"
		  >SA-11:08.telnetd</ulink></entry>
	      <entry>23&nbsp;December&nbsp;2011</entry>
	      <entry><para>telnetd code execution vulnerability</para></entry>
	    </row>

	    <row>
	      <entry><ulink url="http://security.freebsd.org/advisories/FreeBSD-SA-11:09.pam_ssh.asc"
		  >SA-11:09.pam_ssh</ulink></entry>
	      <entry>23&nbsp;December&nbsp;2011</entry>
	      <entry><para>pam_ssh improperly grants access when user account has
		  unencrypted SSH private keys</para></entry>
	    </row>

	    <row>
	      <entry><ulink url="http://security.freebsd.org/advisories/FreeBSD-SA-11:10.pam.asc"
		  >SA-11:10.pam</ulink></entry>
	      <entry>23&nbsp;December&nbsp;2011</entry>
	      <entry><para><function>pam_start()</function> does not validate
		  service names</para></entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>
    </sect2>

  <sect2 id="kernel">
    <title>Kernel Changes</title>

    <sect3 id="boot">
      <title>Boot Loader Changes</title>

      <para></para>
    </sect3>

    <sect3 id="proc">
      <title>Hardware Support</title>

      <sect4 id="mm">
	<title>Multimedia Support</title>

	<para></para>
      </sect4>

      <sect4 id="net-if">
	<title>Network Interface Support</title>

	  <para revision="216860">A bug in &man.msk.4; driver has been
	    fixed.  It could prevent the RX checksum offloading from
	    working.</para>

	  <para revision="216828">A rdcphy(4) driver for RDC Semiconductor
	    R6040 10/100 PHY has been added.</para>

	  <para revision="216650">A bug in &man.vlan.4; pseudo interface
	    han been fixed.  It could have a random interface
	    identifier in an automatically configured IPv6 link-local
	    address, instead of one generated with the parent
	    interface's IEEE 802 48-bit MAC address and an algorithm
	    described in RFC 4291.</para>

	  <para revision="216829">A &man.vte.4; driver for RDC R6040 Fast
	    Ethernet controller, which is commonly found on Vortex86
	    System On a Chip, has been added.</para>

	  <para revision="216824">A bug in &man.wpi.4; driver has been
	    fixed.  It could display the following error messages and
	    result in the device unusable:</para>

	  <screen>wpi0: could not map mbuf (error 12)
wpi0: wpi_rx_intr: bus_dmamap_load failed, error 12</screen>

      </sect4>
    </sect3>

    <sect3 id="net-proto">
      <title>Network Protocols</title>

      <para></para>
    </sect3>

    <sect3 id="disks">
      <title>Disks and Storage</title>

	<para revision="216793">The &man.md.4; memory-backed pseudo disk
	  device driver now supports a &man.sysctl.8; variable
	  <varname>vm.md_malloc_wait</varname> to specify whether a
	  malloc-backed disk to using <varname>M_WAITOK</varname> or
	  <varname>M_NOWAIT</varname> for &man.malloc.9; calls.  The
	  <varname>M_WAITOK</varname> can prevent memory allocation
	  failure under high load.  If it is set to
	  <literal>0</literal>, a malloc-backed disk uses
	  <varname>M_NOWAIT</varname> for memory allocation.  The
	  default value is <literal>0</literal>.</para>

	<para revision="216941">A bug in the &man.mmc.4; driver that could
	  fail in device detection has been fixed.</para>
    </sect3>

    <sect3 id="fs">
      <title>File Systems</title>

	<para revision="216796">The &os; Fast File System now supports
	  <literal>TRIM</literal> command when freeing data blocks.  A
	  new flag <option>-t</option> in the &man.newfs.8; and
	  &man.tunefs.8; utilities sets the TRIM-enable flag in a file
	  system.  The TRIM-enable flag makes the file system send a
	  delete request to the underlying device for each freed
	  block.  The <literal>TRIM</literal> command is specified as
	  Data Set Management Command in ATA8-ACS2 standard to carry
	  the information related to deleted data blocks to device,
	  especially for SSD (Solid-State Drive) for optimization.
	  </para>
    </sect3>
  </sect2>

  <sect2 id="userland">
    <title>Userland Changes</title>

      <para revision="216823">A &man.poweroff.8; utility has been added.
	This is equivalent to:</para>

      <screen>&prompt.root; shutdown -p now</screen>

      <para revision="216695">The &man.rtld.1; runtime linker now supports
	shared objects as filters in ELF shared libraries.  Both
	standard and auxillary filtering have been supported.  The
	&man.rtld.1; linker's processing of a filter defers loading a
	filtee until a filter symbol is referenced unless
	<varname>LD_LOADFLTR</varname> environment variable is defined
	or a <literal>-z loadfltr</literal> option was specified when
	the filter was created.</para>

      <para revision="216629">The &man.sh.1; program now supports
	<command>kill</command> as a built-in command.  This allows
	specifying <literal>%<replaceable>job</replaceable></literal>
	which is equivalent to the corresponding process group.  Note
	that this built-in command returns the exit status
	<literal>2</literal> instead of <literal>1</literal> if an
	fatal error occurs as other built-in commands do.</para>

    <sect3 id="rc-scripts">
      <title><filename>/etc/rc.d</filename> Scripts</title>

      <para></para>
    </sect3>
  </sect2>

  <sect2 id="contrib">
    <title>Contributed Software</title>

    <para></para>
  </sect2>

  <sect2 id="ports">
    <title>Ports/Packages Collection Infrastructure</title>

    <para></para>
  </sect2>

  <sect2 id="releng">
    <title>Release Engineering and Integration</title>

      <para>The supported version of
	the <application>KDE</application> desktop environment
	(<filename role="package">x11/kde4</filename>) has been
	updated from 4.5.5 to 4.7.3.</para>
  </sect2>

  <sect2 id="doc">
    <title>Documentation</title>

    <para></para>

  </sect2>
</sect1>

<sect1 id="upgrade">
  <title>Upgrading from previous releases of &os;</title>

    <sect2>
      <title>Upgrading using freebsd-update(8) or source-based
	procedure</title>

  <para arch="amd64,i386">Beginning with &os; 6.2-RELEASE,
    binary upgrades between RELEASE versions (and snapshots of the
    various security branches) are supported using the
    &man.freebsd-update.8; utility.  The binary upgrade procedure will
    update unmodified userland utilities, as well as a unmodified GENERIC kernel
    distributed as a part of an official &os; release.
    The &man.freebsd-update.8; utility requires that the host being
    upgraded have Internet connectivity.</para>

  <para>Source-based upgrades (those based on recompiling the &os;
    base system from source code) from previous versions are
    supported, according to the instructions in
    <filename>/usr/src/UPDATING</filename>.</para>

  <important>
    <para>Upgrading &os; should, of course, only be attempted after
      backing up <emphasis>all</emphasis> data and configuration
      files.</para>
  </important>
    </sect2>

    <sect2>
      <title id="upgrade-pitfalls">User-visible incompatibilities</title>

      <para>This section describes notable incompatibilities which
	your should know before upgrading your system.</para>
    </sect2>
</sect1>
</article>
