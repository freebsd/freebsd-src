<articleinfo>
  <title>&os;/&arch; &release.current; Release Notes</title>

  <pubdate>$FreeBSD$</pubdate>

  <corpauthor>The FreeBSD Project</corpauthor>

  <copyright>
    <year>2000</year>
    <year>2001</year>
    <year>2002</year>
    <year>2003</year>
    <holder role="mailto:doc@FreeBSD.org">The FreeBSD Documentation Project</holder>
  </copyright>

  <abstract>
    <para>The release notes for &os; &release.current; contain a
      summary of the changes made to the &os; base system since
      &release.prev;.  Both changes for kernel and userland are
      listed, as well as applicable security advisories for the base
      system that were issued since the last release.  Some brief
      remarks on upgrading are also presented.</para>
  </abstract>
</articleinfo>

<sect1 id="intro">
  <title>Introduction</title>

  <para>This document contains the release notes for &os;
    &release.current; on the &arch.print; hardware platform.  It
    describes new features of &os; that have been added (or changed)
    since &release.prev;.  It also provides some notes on upgrading
    from previous versions of &os;.</para>

<![ %release.type.snapshot [

  <para>The &release.type; distribution to which these release notes
    apply represents a point along the &release.branch; development
    branch between &release.prev; and the future &release.next;.  Some
    pre-built, binary &release.type; distributions along this branch
    can be found at <ulink url="&release.url;"></ulink>.</para>

]]>

<![ %release.type.release [

  <para>This distribution of &os; &release.current; is a
    &release.type; distribution.  It can be found at <ulink
    url="&release.url;"></ulink> or any of its mirrors.  More
    information on obtaining this (or other) &release.type;
    distributions of &os; can be found in the <ulink
    url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/mirrors.html"><quote>Obtaining
    FreeBSD</quote></ulink> appendix in the <ulink
    url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/">FreeBSD
    Handbook</ulink>.</para>

]]>
</sect1>

<!--
	The "What's New" section of the release notes. 

	Guidelines for new entries:

	1.  If there is some obvious "keyword" associated with an
	entry (such as a manpage entry or an application name), try to
	put it at the start of the sentence.

	2.  Within each subsection (i.e. kernel, security, userland),
	list items in alphabetical order by these keywords.

	Some entries will have no obvious keywords to help with
	ordering.  In sections containing these entries, put those
	containing (e.g.) manpage references first, then some
	suitable SGML comment line as a demarc, then the remaining
	entries.

-->

<sect1 id="new">
  <title>What's New</title>

  <para>This section describes the most user-visible new or changed
    features in &os; since &release.prev;.  Typical release note items
    document new drivers or hardware support, new commands or options,
    major bugfixes, or contributed software upgrades.  Security
    advisories for the base system that were issued after
    &release.prev; are also listed.</para>

  <sect2 id="security">
    <title>Security Advisories</title>

    <para>A remotely-exploitable buffer overflow vulnerability in
      <application>sendmail</application> has been fixed.  For more
      details, see security advisory <ulink
      url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:07.sendmail.asc">FreeBSD-SA-03:07</ulink>.
      In &os; &release.prev;, this vulnerability was fixed using a
      vendor-supplied patch (but too late for inclusion in the release
      notes).  In &os; &release.current;, it has been fixed with the
      import of a new version of
      <application>sendmail</application>.</para>

  </sect2>

  <sect2 id="kernel">
    <title>Kernel Changes</title>

    <para></para>

<!-- Above this line, kernel changes ordered by manpage/variable name -->

    <sect3 id="proc">
      <title>Platform-Specific Hardware Support</title>

      <para arch="i386">A bug which prevented the kernel from booting
	on an Intel 80386 processor has been corrected.</para>

      <para arch="i386">A bug that even when no AT keyboard is connected,
        &man.atkbd.4; registers an AT keyboard during console initialization
        has been fixed.  <command>kbdcontrol -k /dev/kbd1</command>
        is no longer needed when only a USB keyboard is connected.</para>

      <para arch="i386">The &man.safe.4; driver has been added
        to support SafeNet 1141, 1741-based crypto accelerators.

        <note>
          <para>The public key support is not implemented.</para>
        </note></para>
    </sect3>

    <sect3 id="boot">
      <title>Boot Loader Changes</title>

      <para></para>

<!-- Above this line, order boot loader changes by manpage/variable name-->

    </sect3>

    <sect3 id="net-if">
      <title>Network Interface Support</title>

      <para>&man.bge.4; now supports Broadcom 5705 based Gigabit Ethernet NICs.</para>

      <para>The suspend/resume support for the &man.wi.4; driver
        now works correctly when the device is configured down.</para>

<!-- Above this line, order network driver changes by manpage/variable name-->

    </sect3>

    <sect3 id="net-proto">
      <title>Network Protocols</title>

      <para>&man.ipfw.4; rules now support comma-separated address lists
        (like <literal>1.2.3.4, 5.6.7.8/30, 9.10.11.12/22</literal>),
        and allows spaces after commas to make lists of addresses more readable.</para>

      <para>&man.ipfw.4; rules now support C++-style comment.
        The comment is stored together with the rule and appears using
        &man.ipfw.8; <literal>show</literal> command.</para>

      <para>&man.ipfw.8; now allows to modify &man.ipfw.4; rules in set 31,
        which was read-only and used for the default rules.
        They can be deleted by <command>ipfw delete set 31</command>
        command but are not deleted
        by <command>ipfw flush</command> command.
        So this implements a flexible form of <quote>persistent
          rules</quote>.  More details can be found in &man.ipfw.8;.</para>

      <para>The proatm driver has been added to
        support IDT77252 based ATM interfaces.</para>

    </sect3>

    <sect3 id="disks">
      <title>Disks and Storage</title>

      <para></para>

    </sect3>

    <sect3 id="fs">
      <title>File Systems</title>

      <para>A new <literal>DIRECTIO</literal> kernel option enables
	support for read operations that bypass the buffer cache and
	put data directly into a userland buffer.  This feature
	requires that the <literal>O_DIRECT</literal> flag is set on
	the file descriptor and that both the offset and length for
	the read operation are multiples of the physical media sector
	size.</para>

    </sect3>

    <sect3 id="pccard">
      <title>PCCARD Support</title>

      <para></para>

    </sect3>

    <sect3 id="mm">
      <title>Multimedia Support</title>

      <para></para>

    </sect3>
  </sect2>

  <sect2 id="userland">
    <title>Userland Changes</title>

    <para>&man.chroot.8; now allows the optional setting of a user,
      primary group, or group list to use inside the chroot
      environment via the <option>-u</option>, <option>-g</option>,
      and <option>-G</option> options respectively.</para>

    <para>&man.ipfw.8; <literal>list</literal> and <literal>show</literal>
      command now support ranges of rule numbers.</para>

    <para>&man.ipfw.8; now supports <option>-n</option> flag
      to test the syntax of commands without actually changing anything.</para>

    <para>&man.uudecode.1; and &man.b64decode.1; now support a
      <option>-r</option> flag for decoding raw (or broken) files that
      may be missing the initial and possibly final framing
      lines.</para>

<!-- Above this line, order userland changes by manpage/variable name-->

  </sect2>

  <sect2 id="contrib">
    <title>Contributed Software</title>

    <para><application>groff</application> has been updated from
      1.18.1 to 1.19.</para>

    <para><application>sendmail</application> has been updated to
      version 8.12.9.</para>

    <para><application>texinfo</application> has been updated from 4.5
      to 4.6.</para>

    <para>The timezone database has been updated from
      <filename>tzdata2002d</filename> to
      <filename>tzdata2003a</filename>.</para>

  </sect2>

  <sect2 id="ports">
    <title>Ports/Packages Collection Infrastructure</title>

    <para></para>
  </sect2>

  <sect2 id="releng">
    <title>Release Engineering and Integration</title>

    <para>The supported release of <application>GNOME</application>
      has been updated to 2.2.1.</para>

    <para>The supported release of <application>KDE</application>
      has been updated to 3.1.1a.</para>

  </sect2>
</sect1>

<sect1 id="upgrade">
  <title>Upgrading from previous releases of &os;</title>

  <para>If you're upgrading from a previous release of &os;, you
    generally will have three options:

    <itemizedlist>
      <listitem>
	<para>Using the binary upgrade option of &man.sysinstall.8;.
	  This option is perhaps the quickest, although it presumes
	  that your installation of &os; uses no special compilation
	  options.</para>
      </listitem>
      <listitem>
	<para>Performing a complete reinstall of &os;.  Technically,
	  this is not an upgrading method, and in any case is usually less
	  convenient than a binary upgrade, in that it requires you to
	  manually backup and restore the contents of
	  <filename>/etc</filename>.  However, it may be useful in
	  cases where you want (or need) to change the partitioning of
	  your disks.
      </listitem>
      <listitem>
	<para>From source code in <filename>/usr/src</filename>.  This
	  route is more flexible, but requires more disk space, time,
	  and technical expertise.  More information can be found
	  in the <ulink
	  url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/makeworld.html"><quote>Using
	  <command>make world</command></quote></ulink> section of the <ulink
	  url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/">FreeBSD
	  Handbook</ulink>.  Upgrading from very old
	  versions of &os; may be problematic; in cases like this, it
	  is usually more effective to perform a binary upgrade or a
	  complete reinstall.</para>
      </listitem>
    </itemizedlist>
  </para>

  <para>Please read the <filename>INSTALL.TXT</filename> file for more
    information, preferably <emphasis>before</emphasis> beginning an
    upgrade.  If you are upgrading from source, please be sure to read
    <filename>/usr/src/UPDATING</filename> as well.</para>

  <para>Finally, if you want to use one of various means to track the
    -STABLE or -CURRENT branches of &os;, please be sure to consult
    the <ulink
    url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/current-stable.html"><quote>-CURRENT
    vs. -STABLE</quote></ulink> section of the <ulink
    url="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/">FreeBSD
    Handbook</ulink>.</para>

  <important>
    <para>Upgrading &os; should, of course, only be attempted after
      backing up <emphasis>all</emphasis> data and configuration
      files.</para>
  </important>
</sect1>

