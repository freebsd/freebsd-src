<articleinfo>
  <title>&os;/&arch; &release.current; Release Notes</title>

  <corpauthor>The &os; Project</corpauthor>

  <pubdate>$FreeBSD$</pubdate>

  <copyright>
    <year>2000</year>
    <year>2001</year>
    <year>2002</year>
    <year>2003</year>
    <year>2004</year>
    <year>2005</year>
    <year>2006</year>
    <year>2007</year>
    <holder role="mailto:doc@FreeBSD.org">The &os; Documentation Project</holder>
  </copyright>

  <legalnotice id="trademarks" role="trademarks">
    &tm-attrib.freebsd;
    &tm-attrib.ibm;
    &tm-attrib.ieee;
    &tm-attrib.intel;
    &tm-attrib.sparc;
    &tm-attrib.general;
  </legalnotice>

  <abstract>
    <para>The release notes for &os; &release.current; contain a summary
      of the changes made to the &os; base system on the
      &release.branch; development line.
      This document lists applicable security advisories that were issued since
      the last release, as well as significant changes to the &os;
      kernel and userland.
      Some brief remarks on upgrading are also presented.</para>
  </abstract>
</articleinfo>

<sect1 id="intro">
  <title>Introduction</title>

  <para>This document contains the release notes for &os;
    &release.current; on the &arch.print; hardware platform.  It
    describes recently added, changed, or deleted features of &os;.
    It also provides some notes on upgrading
    from previous versions of &os;.</para>

<![ %release.type.current [

  <para>The &release.type; distribution to which these release notes
    apply represents the latest point along the &release.branch; development
    branch since &release.branch; was created.  Information regarding pre-built, binary
    &release.type; distributions along this branch
    can be found at <ulink url="&release.url;"></ulink>.</para>

]]>

<![ %release.type.snapshot [

  <para>The &release.type; distribution to which these release notes
    apply represents a point along the &release.branch; development
    branch between &release.prev; and the future &release.next;.
    Information regarding
    pre-built, binary &release.type; distributions along this branch
    can be found at <ulink url="&release.url;"></ulink>.</para>

]]>

<![ %release.type.release [

  <para>This distribution of &os; &release.current; is a
    &release.type; distribution.  It can be found at <ulink
    url="&release.url;"></ulink> or any of its mirrors.  More
    information on obtaining this (or other) &release.type;
    distributions of &os; can be found in the <ulink
    url="&url.books.handbook;/mirrors.html"><quote>Obtaining
    &os;</quote> appendix</ulink> to the <ulink
    url="&url.books.handbook;/">&os;
    Handbook</ulink>.</para>

]]>

  <para>All users are encouraged to consult the release errata before
    installing &os;.  The errata document is updated with
    <quote>late-breaking</quote> information discovered late in the
    release cycle or after the release.  Typically, it contains
    information on known bugs, security advisories, and corrections to
    documentation.  An up-to-date copy of the errata for &os;
    &release.current; can be found on the &os; Web site.</para>

</sect1>

<sect1 id="new">
  <title>What's New</title>

  <para>This section describes
    the most user-visible new or changed features in &os;
    since &release.prev;.
  </para>

  <para>Typical release note items
    document recent security advisories issued after
    &release.prev;,
    new drivers or hardware support, new commands or options,
    major bug fixes, or contributed software upgrades.  They may also
    list changes to major ports/packages or release engineering
    practices.  Clearly the release notes cannot list every single
    change made to &os; between releases; this document focuses
    primarily on security advisories, user-visible changes, and major
    architectural improvements.</para>

  <sect2 id="security">
    <title>Security Advisories</title>

    <para>Two remote denials of service in BIND (one involving DNSSEC and
      one involving recursive DNS queries) have been fixed.  For more
      information, see security advisory
      <ulink url="http://security.FreeBSD.org/advisories/FreeBSD-SA-07:02.bind.asc">FreeBSD-SA-07:02.bind</ulink>.</para>

    <para>Processing of IPv6 type 0 Routing Headers is now
      controlled by the <varname>net.inet6.ip6.rthdr0_allowed</varname>
      sysctl variable, which defaults to <literal>0</literal> (off).
      For more information, see security advisory
      <ulink url="http://security.FreeBSD.org/advisories/FreeBSD-SA-07:03.ipv6.asc">FreeBSD-SA-07:03.ipv6</ulink>.</para>
  </sect2>

  <sect2 id="kernel">
    <title>Kernel Changes</title>

    <para>&man.acpi.4; now has support for the HPET time counter.</para>

    <para>Support for Message Signaled Interrupts (MSI) and Extended
      Message Signaled Interrupts (MSI-X) has been added to the kernel's
      PCI support code.</para>

    <!-- Above this line, sort kernel changes by manpage/keyword-->

    <sect3 id="boot">
      <title>Boot Loader Changes</title>

      <para></para>

      <!-- Above this line, order boot loader changes by keyword-->

    </sect3>

    <sect3 id="proc">
      <title>Hardware Support</title>

      <para>An &man.acpi.dock.4; driver has been added to provide
	support for controlling laptop docking station functions via
	ACPI.</para>

      <sect4 id="mm">
	<title>Multimedia Support</title>

	<para>The &man.snd.envy24.4; driver has been added to support
	  the Envy24 series of audio chips.</para>

	<para>The &man.snd.envy24ht.4; driver has been added to support
	  the VIA Envy24HT series of audio chips.</para>

	<para>The &man.snd.hda.4; driver has been added.  It supports
	  devices that conform to revision 1.0 of the Intel High Definition
	  Audio specification.</para>

	<para>The &man.snd.spicds.4; driver has been added to support
	  I2S SPI audio codec chips.</para> 
      </sect4>

      <sect4 id="net-if">
	<title>Network Interface Support</title>

	<para>The &man.ath.4; driver has been updated to
	  HAL version 0.9.20.3.</para>

	<para>The &man.axe.4; driver now supports &man.altq.4;.</para>

	<para>The &man.cxgb.4; driver has been added.  It provides support for
	  10 Gigabit Ethernet adapters based on the Chelsio T3 and T3B chipsets.
	  </para>

	<para>The &man.edsc.4; driver, which provides Ethernet discard network
	  interfaces, has been added.</para>

	<para>The &man.msk.4; driver has been added.  It supports
	  network interfaces using the Marvell/SysKonnect Yukon II
	  Gigabit Ethernet controller.</para>

	<para>[&arch.amd64;, &arch.i386;] The &man.mxge.4; driver,
          which supports Myricom Myri10GE 10 Gigabit Ethernet
          adapters, has been added.  For more details, see
          &man.mxge.4;.</para>

	<para arch="arm">The &man.npe.4; driver, which supports the
	   Intel XScale Network Processing Engine, has been
	   added.</para>

	<para>The &man.vge.4; driver now supports &man.altq.4;.</para>

	<para>The 802.11 protocol stack now has support for 900 MHz
	  cards, as well as quarter- and half-channel support
	  for 802.11a.</para>

      </sect4>
    </sect3>

    <sect3 id="net-proto">
      <title>Network Protocols</title>

      <para>The &man.if.bridge.4; driver now supports RSTP, the Rapid
	Spanning Tree Protocol (802.1w).</para>

      <para>The &man.lagg.4; driver, ported from OpenBSD and NetBSD,
	has been added to support a variety of protocols and algorithms
	for link aggregation, failover, and fault tolerance.</para>

      <para>A new &man.ng.deflate.4; NetGraph node type has been
	added.  It implements Deflate PPP compression.</para>

      <para>A new &man.ng.pred1.4; NetGraph node type has been added
	to implement Predictor-1 PPP compression.</para>

      <para>A bug which prevented &os; &release.prev; from running
	IPv6 correctly over &man.gif.4; tunnels has been fixed.</para>

      <para>The <varname>net.link.tap.up_on_open</varname> sysctl variable
	has been added to the &man.tap.4; driver.  If enabled, new tap
	devices will marked <literal>up</literal> upon creation.</para>

    </sect3>

    <sect3 id="disks">
      <title>Disks and Storage</title>

      <para>The &man.mpt.4; driver has been updated to support
	various new features such as RAID volume and RAID member
	state/settings reporting, periodic volume re-synchronization
	status reporting, and sysctl variables for volume
	re-synchronization rate, volume member write cache status,
	and volume transaction queue depth.</para>

      <para>The &man.mpt.4; driver now supports SAS HBA (partially),
	64-bit PCI, and large data transfer.</para>

      <para>The scsi_sg driver, which emulates a significant
	subset of the Linux SCSI SG passthrough device API, has
	been added.  It is
	intended to allow programs running under Linux emulation
	(as well as native &os; applications) to access the
	<filename>/dev/sg<replaceable>*</replaceable></filename>
	devices supported by Linux.</para>

      <para>The &man.twa.4; driver has been updated to the 3.60.03.006
	release on the 3ware Web site.  It now supports AMCC's 3ware
	9650 series of SATA controllers.</para>

    </sect3>

    <sect3 id="fs">
      <title>File Systems</title>

      <para>The unionfs file system has been re-implemented.  This
	version solves many crashing and locking issues compared to
	the previous implementation.  It also adds
	new <quote>transparent</quote> and <quote>masquerade</quote>
	modes for automatically creating files in the upper file system
	layer of unions.  More information can be found in the
	&man.mount.unionfs.8; manual page.</para>

    </sect3>

  </sect2>

  <sect2 id="userland">
    <title>Userland Changes</title>

    <para>A bug in &man.freebsd-update.8;, which caused it not
      to update SMP kernels correctly, has been fixed.</para>

    <para>The &man.fdisk.8; program now supports a <option>-p</option>
      flag to print the slice table in fdisk configuration format.</para>

    <para>The &man.ftpd.8; utility now has support for RFC2389 (FEAT)
      and rudimentary support for RFC2640 (UTF8).  The RFC2640 support
      is optional and can be enabled using the new <option>-8</option>
      flag.  More information can be found in the &man.ftpd.8; manual
      page.</para>

    <para>The &man.rpc.lockd.8; and &man.rpc.statd.8; programs now
      accept <option>-p</option> options to indicate which port they
      should bind to.</para>

    <para>The &man.pw.8; program now supports a <option>-M</option>
      option to set the permissions of a user's newly created home
      directory.</para>

    <para>The &man.top.1; program now supports a <option>-j</option>
      flag to display the &man.jail.8; ID for each process.</para>

    <para>The &man.touch.1; utility now supports a <option>-A</option>
      flag that allows the access and modification times of a file be
      adjusted by a specified value.</para>

    <para>The &man.wpa.passphrase.8; utility has been added.  It
      generates a 256-bit pre-shared WPA key from an ASCII
      passphrase.</para>

  </sect2>

  <sect2 id="contrib">
    <title>Contributed Software</title>

    <para><application>BIND</application> has been updated from 9.3.3
      to 9.3.4.</para>

    <para>The GNU version of <application>gzip</application> has been
      replaced with a modified version of gzip ported from NetBSD.</para>

    <para><application>ncurses</application> has been updated from
      5.2-20020615 to 5.6-20061217.  ncurses now also has wide
      character support.</para>

    <para><application>netcat</application> has been updated from the
      version in a 4 February 2005 OpenBSD snapshot to the version
      included in OpenBSD 4.1.</para>

    <para><application>GNU Readline library</application> has been
      updated from 5.0 to 5.2 patch 2.</para>

    <para><application>sendmail</application> has been updated from
      8.13.8 to 8.14.1.</para>

  </sect2>

  <sect2 id="ports">
    <title>Ports/Packages Collection Infrastructure</title>

    <para></para>

  </sect2>

  <sect2 id="releng">
    <title>Release Engineering and Integration</title>

    <para>The supported version of
      the <application>GNOME</application> desktop environment
      (<filename role="package">x11/gnome2</filename>) has been
      updated from 2.16.1 to 2.18.0.</para>

    <para>The supported version of
      the <application>KDE</application> desktop environment
      (<filename role="package">x11/kde3</filename>) has been
      updated from 3.5.4 to 3.5.6.</para>

    <para>The supported version of
      the <application>&xorg;</application> windowing system
      (<filename role="package">x11/xorg</filename>) has been updated
      from 6.9.0 to 7.2.0.</para>

    <para>The default value of <varname>X11BASE</varname> has been changed
      from <filename>/usr/X11R6</filename> to <filename>/usr/local</filename>,
      the default value of <varname>LOCALBASE</varname>.</para>
  </sect2>

  <sect2 id="doc">
    <title>Documentation</title>

    <para></para>

  </sect2>
</sect1>

<sect1 id="upgrade">
  <title>Upgrading from previous releases of &os;</title>

  <para>Source upgrades to &os; &release.current; are only supported
    from &os; 5.3-RELEASE or later.  Users of older systems wanting to
    upgrade &release.current; will need to update to &os; 5.3 or newer
    first, then to &os; &release.current;.</para>

  <important>
    <para>Upgrading &os; should, of course, only be attempted after
      backing up <emphasis>all</emphasis> data and configuration
      files.</para>
  </important>
</sect1>
