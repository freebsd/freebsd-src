#
# Atheros PB47 reference board.
#
# * one MiniPCI+ slot (modified to allow two idsel lines
#   on the one slot, for a specific kind of internal-only
#   NIC;
# * one XMII slot
# * One ethernet PHY
# * Akros Silicon AS1834
# * 8MB NOR SPI flash
# * 64MB RAM
#
# $FreeBSD$
#

include		"AR71XX_BASE"
ident		"PB47"
hints		"PB47.hints"

# Enable the uboot environment stuff rather then the
# redboot stuff.
options		AR71XX_ENV_UBOOT

# XXX TODO: add uboot boot parameter parsing to extract MAC, RAM.
# Right now it will just detect 32mb out of 64mb, as well as
# return a garbage MAC address.

# don't compile these in - the default flash area for kernel space
# is only 1.2 megabytes.  To keep the flash allocation in line with
# what the documentation says for this board, we'll just have to keep
# the kernel smaller than that.
nodevice wlan, wlan_wep, wlan_ccmp, wlan_tkip, wlan_xauth
nodevice ath, ath_pci, ath_hal, ath_rate_sample

# Since the module build doesn't like TDMA..
nooptions	IEEE80211_SUPPORT_TDMA

# For DOS - enable if required
#options		GEOM_PART_BSD
#options		GEOM_PART_MBR
#options		MSDOSFS

# uncompress - to boot read-only lzma natively from flash
device		geom_uncompress
options		GEOM_UNCOMPRESS

# Used for the static uboot partition map
device		geom_map

# Boot off of the rootfs, as defined in the geom_map setup.
options		ROOTDEVNAME=\"ufs:map/rootfs.uncompress\"
