Updating Information for FreeBSD current users

This file is maintained by imp@village.org.  Please send new entries
to him.  See end of file for further details.

19990409:
	NOTE: New c++ compiler cannot be used with c++ binaries from
	the old compiler and vice versa.

19990408:
	In recent days egcs has been imported into the tree.  A number
	of problems have been discussed in -current.  Here is a highlight
	of a few of the more common ones.  With the exception of make
	-j n, they have been claimed to have been fixed.

	c++ is broken after make world: This is correct.  Because we
	changed compilers two make worlds are necessary to get C++
	working again.  The code generated by the old compiler and new
	compiler are not compatible, so things wind up being
	undefined.

	cpp is broken in make world:  There was a window where cpp
	would be built incorrectly.  The fix for this is
		cd src/gnu/usr.bin/cc
		make clean
		make all
		make install
	and this should correct your problems.  See the -current
	archives for a version of this that does moer cleaning.

	Make -j n doesn't work.  Work contiunes to make this work,
	I've seen no reports of success as of April 7th.

19990329:
	Previously, one would define "NOAOUT" to keep from building
	the legacy a.out bits.  Now one would define "WANT_AOUT" to
	build them.

19990316:
	The name of the old wd.c and atapi.c based CDROM driver has
	been changed back to wcd. So update your config file to use
	"device wcd" instead of "device acd".

19990314:
	For those of you using the VN device as a loadable module,
	please be aware that the new VN device has been committed to
	-4.x and cannot yet be used as a loadable module.  This will
	be fixed in the future.
	
19990309:
	New loader.rc mechanism.  Please see src/sys/boot/README for
	details.

19990225:
	struct proc size changed.  Recompile kernel and the
	usual suspects.  Make world if in doubt.

19990214:
	The nlpt driver has changed names back to be the lpt driver.
	See ppbus(4) or http://www.freebsd.org/~nsouch/ppbus.html
	for proper configuration details.

19990210:
	The 'lpt' driver is now obsolete.  Replace it with the 'nlpt'
	driver and 'ppbus' controller combination.

19990209:
	New devstat API requires recompilation of libdevstat, systat,
	iostat, vmstat and rpc.rstatd.  A new kernel is also required.
	make world + building a kernel should do all of this.  Any
	ports that use devstat need to be recompiled as well.

19990125:
	Linux threads options has gone away (they are now standard in
	the FreeBSD kernel).  A recompile of all libkvm using programs
	is in order (or better yet a make world).

19990122:
	On or about this date there was a small window when the boot
	blocks had some minor problems which seemed to force one to
	edit /etc/fstab.  This has been corrected, if you are seeing this
	problem, please rebuild and reinstall your boot blocks.

19990121:
	Vinum has changed.  The "vinum read" command has changed.  For
	updates, please see

http://www.freebsd.org/cgi/getmsg.cgi?fetch=800363+0+current/freebsd-current

	for details.  

	Matt Dillon committed a boatload of VM changes, for
	information please see

http://www.freebsd.org/cgi/getmsg.cgi?fetch=886676+0+current/freebsd-current
	or
http://www.freebsd.org/cgi/getmsg.cgi?fetch=827400+0+current/freebsd-current

	for details.  These changes will likely not impact anybody,
	but large chagnes to the VM need at least a heads up.

19990120:
	Stable branch created.  You might want to consider using this
	branch.  It is tagged with RELENG_3.

19990119:
	More work on the syscons driver has been committed.  Since
	files moved around, you will need to reconfigure your kernel,
	and make clean; make depend before rebuilding the kernel.  No
	config file changes are needed.

19990111:
	New keyboard and video card drivers are introduced as the first
	stage of console driver reorganization.  You are required to
	update the kernel configuration file and rebuild the kernel.
	kbdcontrol, vidcontrol, and screen savers also need recompilation.
	The instruction can be found in

		http://www.freebsd.org/~yokota/sc_update.txt

	It has notes on splash screen too.

19990106:
	Robert Nordier was kind enough to make this page to enable people to
	install the new bootblocks:

		http://www.freebsd.org/~rnordier/boot.txt

	When updating to ELF, make sure that you have updated your
	/etc/rc files which have different ldconfig invocations for
	elf and aout.  Otherwise things like X will stop working with
	messages about being unable to find library files.  The
	mergemaster utility in ports/sysutils/mergemaster helps to
	keep critical files like this in sync, and its use is
	recommended.

19990104:
	Information about ELF day (see 19981230) can be found in

		http://www.freebsd.org/~peter/elfday.html

	about the upcoming change, its motivations and instructions
	for doing the upgrade.

19981230:
	You should install new bootblocks now.  The ELF kernel will
	become default soon.  In addition, you'll need to upgrade
	your userland programs to ELF before then as well.  Use
	make aout-to-elf to upgrade your userland programs (old
	a.out programs in, for example, /usr/local/bin will
	continue to work, even after the upgrade).  See src/Makefile
	for more details.

19981224:
	The old wcd driver has been deleted from the kernel.  The
	driver that replaces it is named acd.  You'll need to change
	this in your configuration files.

	Failure to do this will result in "ATAPI CD-ROMs not
	configured" at boot time.

	The floppy tape driver (ft) has been removed from the kernel,
	with no replacement driver.

19981202:
	New groups from 19981201 commented out of mtree, so they
	aren't strictly needed, but still a good idea to have.

19981201:
	New user/group added: bind.  From src/etc/master.passwd and
	src/etc/group:
		% grep <newstuff> /usr/src/etc/group 
		bind:*:53:
		% grep <newstuff> /usr/src/etc/master.passwd 
		tty:*:4:65533::0:0:Tty Sandbox:/:/sbin/nologin
		kmem:*:5:65533::0:0:KMem Sandbox:/:/sbin/nologin
		bind:*:53:53::0:0:Bind Sandbox:/:/sbin/nologin

19981118:
	PAM integrated into the tree.   Requires new /etc/pam.conf file
	to silence warnings from authentication programs (login, etc).
	See src/etc/pam.conf for a sample.

This file contains a list, in reverse chronologocal order, of major
breakages in tracking -current.  Not all things will be listed here,
and it only starts on Novemeber 18, 1998.  If you have an earlier
version of FreeBSD, you are on your own to get to November 18, 1998.

Please filter your entries through Warner (imp@village.org) so that
the style, formatting, etc of this file can be maintained.

$Id: UPDATING,v 1.26 1999/04/09 06:34:00 imp Exp $
