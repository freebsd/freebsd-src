.\" -*- mode: troff; coding: utf-8 -*-
.\" Automatically generated by Pod::Man 5.0102 (Pod::Simple 3.45)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" \*(C` and \*(C' are quotes in nroff, nothing in troff, for use with C<>.
.ie n \{\
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "SSL_CTX_SET_DOMAIN_FLAGS 3ossl"
.TH SSL_CTX_SET_DOMAIN_FLAGS 3ossl 2025-09-30 3.5.4 OpenSSL
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH NAME
SSL_CTX_set_domain_flags, SSL_CTX_get_domain_flags, SSL_get_domain_flags,
SSL_DOMAIN_FLAG_SINGLE_THREAD,
SSL_DOMAIN_FLAG_MULTI_THREAD,
SSL_DOMAIN_FLAG_THREAD_ASSISTED,
SSL_DOMAIN_FLAG_BLOCKING,
SSL_DOMAIN_FLAG_LEGACY_BLOCKING
\&\- control the concurrency model used by a QUIC domain
.SH SYNOPSIS
.IX Header "SYNOPSIS"
.Vb 1
\& #include <openssl/ssl.h>
\&
\& #define SSL_DOMAIN_FLAG_SINGLE_THREAD
\& #define SSL_DOMAIN_FLAG_MULTI_THREAD
\& #define SSL_DOMAIN_FLAG_LEGACY_BLOCKING
\& #define SSL_DOMAIN_FLAG_BLOCKING
\& #define SSL_DOMAIN_FLAG_THREAD_ASSISTED
\&
\& int SSL_CTX_set_domain_flags(SSL_CTX *ctx, uint64_t flags);
\& int SSL_CTX_get_domain_flags(SSL_CTX *ctx, uint64_t *flags);
\&
\& int SSL_get_domain_flags(SSL *ssl, uint64_t *flags);
.Ve
.SH DESCRIPTION
.IX Header "DESCRIPTION"
\&\fBSSL_CTX_set_domain_flags()\fR and \fBSSL_CTX_get_domain_flags()\fR set and get the QUIC
domain flags on a \fBSSL_CTX\fR using a QUIC \fBSSL_METHOD\fR. These flags determine
the concurrency model which is used for a QUIC domain. A detailed introduction
to these concepts can be found in \fBopenssl\-quic\-concurrency\fR\|(7).
.PP
Applications may use either one the flags here:
.IP \fBSSL_DOMAIN_FLAG_SINGLE_THREAD\fR 4
.IX Item "SSL_DOMAIN_FLAG_SINGLE_THREAD"
Specifying this flag configures the Single-Threaded Concurrency Model (SCM).
.IP \fBSSL_DOMAIN_FLAG_MULTI_THREAD\fR 4
.IX Item "SSL_DOMAIN_FLAG_MULTI_THREAD"
Speciyfing this flag configures the Contentive Concurrency Model (CCM) (unless
\&\fBSSL_DOMAIN_FLAG_THREAD_ASSISTED\fR is also specified).
.Sp
If OpenSSL was built without thread support, this is identical to
\&\fBSSL_DOMAIN_FLAG_SINGLE_THREAD\fR.
.IP \fBSSL_DOMAIN_FLAG_THREAD_ASSISTED\fR 4
.IX Item "SSL_DOMAIN_FLAG_THREAD_ASSISTED"
Specifying this flag configures the Thread-Assisted Concurrency Model (TACM).
It implies \fBSSL_DOMAIN_FLAG_MULTI_THREAD\fR and \fBSSL_DOMAIN_FLAG_BLOCKING\fR.
.Sp
This concurrency model is not available if OpenSSL was built without thread
support, in which case attempting to configure it will result in an error.
.IP \fBSSL_DOMAIN_FLAG_BLOCKING\fR 4
.IX Item "SSL_DOMAIN_FLAG_BLOCKING"
Enable reliable support for blocking I/O calls, allocating whatever OS resources
are necessary to realise this. If this flag is specified,
\&\fBSSL_DOMAIN_FLAG_LEGACY_BLOCKING\fR is ignored.
.IP \fBSSL_DOMAIN_FLAG_LEGACY_BLOCKING\fR 4
.IX Item "SSL_DOMAIN_FLAG_LEGACY_BLOCKING"
Enables legacy blocking compatibility mode. See
"Legacy Blocking Support Compatibility" in \fBopenssl\-quic\-concurrency\fR\|(7).
.PP
Mutually exclusive flag combinations result in an error (for example, combining
\&\fBSSL_DOMAIN_FLAG_SINGLE_THREAD\fR and \fBSSL_DOMAIN_FLAG_MULTI_THREADED\fR).
.PP
Because exactly one concurrency model must be chosen, the domain flags cannot be
set to 0 and attempting to do so will result in an error.
.PP
Changing these flags using \fBSSL_CTX_set_domain_flags()\fR has no effect on QUIC
domains which have already been created.
.PP
The default set of domain flags set on a newly created \fBSSL_CTX\fR may vary by
OpenSSL version, chosen \fBSSL_METHOD\fR, and operating environment. See
\&\fBopenssl\-quic\-concurrency\fR\|(7) for details. An application can retrieve the
default domain flags by calling \fBSSL_CTX_get_domain_flags()\fR immediately after
constructing a \fBSSL_CTX\fR.
.PP
\&\fBSSL_get_domain_flags()\fR retrieves the domain flags which are effective for a QUIC
domain when called on any QUIC SSL object under that domain.
.SH "RETURN VALUES"
.IX Header "RETURN VALUES"
\&\fBSSL_CTX_set_domain_flags()\fR, \fBSSL_CTX_get_domain_flags()\fR and
\&\fBSSL_get_domain_flags()\fR return 1 on success and 0 on failure.
.PP
\&\fBSSL_CTX_set_domain_flags()\fR fails if called with a set of flags which are
inconsistent or which cannot be supported given the current environment.
.PP
\&\fBSSL_CTX_set_domain_flags()\fR and \fBSSL_CTX_get_domain_flags()\fR fail if called on a
\&\fBSSL_CTX\fR which is not using a QUIC \fBSSL_METHOD\fR.
.PP
\&\fBSSL_get_domain_flags()\fR fails if called on a non-QUIC SSL object.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fBSSL_new_domain\fR\|(3), \fBopenssl\-quic\-concurrency\fR\|(7)
.SH HISTORY
.IX Header "HISTORY"
These functions were added in OpenSSL 3.5.
.SH COPYRIGHT
.IX Header "COPYRIGHT"
Copyright 2024\-2025 The OpenSSL Project Authors. All Rights Reserved.
.PP
Licensed under the Apache License 2.0 (the "License").  You may not use
this file except in compliance with the License.  You can obtain a copy
in the file LICENSE in the source distribution or at
<https://www.openssl.org/source/license.html>.
