2000-01-25  Assar Westerlund  <assar@sics.se>

	* load.c: checking all parsing for errors and all memory
	allocations also

2000-01-02  Assar Westerlund  <assar@sics.se>

	* server.c: check initial flag in ticket and allow users to change
	their own password if it's set
	* ext.c (do_ext_keytab): set timestamp

1999-12-14  Assar Westerlund  <assar@sics.se>

	* del_enctype.c (usage): don't use arg_printusage

1999-11-25  Assar Westerlund  <assar@sics.se>

	* del_enctype.c (del_enctype): try not to leak memory

	* version4.c (kadm_ser_mod): use kadm5_s_modify_principal (no
 	_with_key)

	* kadmin.c: add `del_enctype'

	* del_enctype.c (del_enctype): new function for deleting enctypes
	from a principal

	* Makefile.am (kadmin_SOURCES): add del_enctype.c

1999-11-09  Johan Danielsson  <joda@pdc.kth.se>

	* server.c: cope with old clients

	* kadmin_locl.h: remove version string

1999-10-17  Assar Westerlund  <assar@sics.se>

	* Makefile.am (kadmin_LDADD): add LIB_dlopen

1999-10-01  Assar Westerlund  <assar@sics.se>

	* ank.c (add_one_principal): `password' can cactually be NULL in
 	the overwrite code, check for it.

1999-09-20  Assar Westerlund  <assar@sics.se>

	* mod.c (mod_entry): print the correct principal name in error
 	messages.  From Love <lha@e.kth.se>

1999-09-10  Assar Westerlund  <assar@sics.se>

	* init.c (init): also create `changepw/kerberos'

	* version4.c: only create you loose packets when we fail decoding
 	and not when an operation is not performed for some reason
	(decode_packet): read the service key from the hdb
	(dispatch, decode_packet): return proper error messages

	* version4.c (kadm_ser_cpw): add password quality functions

1999-08-27  Johan Danielsson  <joda@pdc.kth.se>

	* server.c (handle_v5): give more informative message if
	KRB5_KT_NOTFOUND

1999-08-26  Johan Danielsson  <joda@pdc.kth.se>

	* kadmind.c: use HDB keytabs

1999-08-25  Assar Westerlund  <assar@sics.se>

	* cpw.c (set_password): use correct variable.  From Love
 	<lha@e.kth.se>

	* server.c (v5_loop): use correct error code

	* ank.c (add_one_principal): initialize `default_ent'

1999-08-21  Assar Westerlund  <assar@sics.se>

	* random_password.c: new file, stolen from krb4

	* kadmin_locl.h: add prototype for random_password

	* cpw.c: add support for --random-password

	* ank.c: add support for --random-password

	* Makefile.am (kadmin_SOURCES): add random_password.c

1999-08-19  Assar Westerlund  <assar@sics.se>

	* util.c (edit_timet): break when we manage to parse the time not
 	the inverse.

	* mod.c: add parsing of lots of options.  From Love
 	<lha@stacken.kth.se>

	* ank.c: add setting of expiration and password expiration

	* kadmin_locl.h: update util.c prototypes

	* util.c: move-around.  clean-up, rename, make consistent (and
 	some other weird stuff).  based on patches from Love
 	<lha@stacken.kth.se>

	* version4.c (kadm_ser_cpw): initialize password
	(handle_v4): remove unused variable `ret'

1999-08-16  Assar Westerlund  <assar@sics.se>

	* version4.c (handle_v4): more error checking and more correct
 	error messages

	* server.c (v5_loop, kadmind_loop): more error checking and more
 	correct error messages

1999-07-24  Assar Westerlund  <assar@sics.se>

	* util.c (str2timeval, edit_time): functions for parsing and
 	editing times.  Based on patches from Love <lha@stacken.kth.se>.
	(edit_entry): call new functions

	* mod.c (mod_entry): allow modifying expiration times

	* kadmin_locl.h (str2timeval): add prototype

	* ank.c (add_one_principal): allow setting expiration times

1999-07-03  Assar Westerlund  <assar@sics.se>

	* server.c (v5_loop): handle data allocation with krb5_data_alloc
 	and check return value

1999-06-23  Assar Westerlund  <assar@sics.se>

	* version4.c (kadm_ser_cpw): read the key in the strange order
 	it's sent

	* util.c (edit_entry): look at default
	(edit_time): always set mask even if value == 0

	* kadmin_locl.h (edit_entry): update

	* ank.c: make ank use the values of the default principal for
 	prompting

	* version4.c (values_to_ent): convert key data correctly

1999-05-23  Assar Westerlund  <assar@sics.se>

	* init.c (create_random_entry): more correct setting of mask

1999-05-21  Assar Westerlund  <assar@sics.se>

	* server.c (handle_v5): read sendauth version correctly.

1999-05-14  Assar Westerlund  <assar@sics.se>

	* version4.c (error_code): try to handle really old krb4
 	distributions

1999-05-11  Assar Westerlund  <assar@sics.se>

	* init.c (init): initialize realm_max_life and realm_max_rlife

1999-05-07  Assar Westerlund  <assar@sics.se>

	* ank.c (add_new_key): initialize more variables

1999-05-04  Assar Westerlund  <assar@sics.se>

	* version4.c (kadm_ser_cpw): always allow a user to change her
 	password
	(kadm_ser_*): make logging work
	clean-up and restructure
	
	* kadmin_locl.h (set_entry): add prototype

	* kadmin.c (usage): update usage string

	* init.c (init): new arguments realm-max-ticket-life and
 	realm-max-renewable-life

	* util.c (edit_time, edit_attributes): don't do anything if it's
 	already set
	(set_entry): new function

	* ank.c (add_new_key): new options for setting max-ticket-life,
 	max-renewable-life, and attributes

	* server.c (v5_loop): remove unused variable

	* kadmin_locl.h: add prototypes

	* version4.c: re-insert krb_err.h and other miss

	* server.c (kadmind_loop): break-up and restructure

	* version4.c: add ACL checks more error code checks restructure
	
1999-05-03  Johan Danielsson  <joda@pdc.kth.se>

	* load.c: check for (un-)encrypted keys

	* dump.c: use hdb_print_entry
	
	* version4.c: version 4 support

	* Makefile.am: link with krb4

	* kadmin_locl.h: include <sys/un.h>

	* server.c: move from lib/kadm5, and add basic support for krb4
	kadmin protocol

	* kadmind.c: move recvauth to kadmind_loop()
